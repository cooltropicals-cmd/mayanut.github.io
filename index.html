<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MayaNut AI</title>
  <style>
    :root{
      --bg1:#ffd6a6; /* mango */
      --bg2:#ffeab3; /* pineapple */
      --bg3:#ffd1e3; /* guava pink */
      --panel:rgba(255,255,255,.28);
      --line:rgba(0,0,0,.08);
      --card:#ffffffee;
      --ink:#0f172a;
      --muted:#64748b;
      --accent:#7c3aed;
      --logo:#384252; /* darker, not pure white */
      --shadow:0 18px 40px rgba(15,23,42,.18);
    }

    html,body{height:100%}
    body{
      margin:0; color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start; overflow:hidden; position:relative;
      background:
        radial-gradient(1200px 800px at 20% -10%, var(--bg3) 0%, transparent 60%),
        radial-gradient(1100px 700px at 80% -10%, var(--bg1) 0%, transparent 60%),
        linear-gradient(180deg, var(--bg2) 0%, #fff 85%);
      /* soft film blur effect */
      backdrop-filter: blur(0.5px);
    }
    /* subtle noise so it feels tactile */
    body::after{
      content:""; position:fixed; inset:0; pointer-events:none;
      background: radial-gradient(closest-side, rgba(255,255,255,.18), transparent 70%) center -140px/1200px 600px no-repeat;
      mix-blend-mode: soft-light;
    }

    /* NAV (x.ai-inspired minimal) */
    .navbar{
      position:fixed; top:0; left:0; width:100%; z-index:10;
      display:flex; justify-content:center; gap:28px; padding:12px 0;
      background:var(--panel); backdrop-filter: blur(8px) saturate(140%);
      border-bottom:1px solid var(--line);
    }
    .nav-item{
      color:#0b1222; text-decoration:none; font-weight:600; font-size:15px;
      padding:8px 14px; border-radius:10px; transition:background .18s;
    }
    .nav-item:hover{ background:rgba(0,0,0,.06); }

    .logo{
      position:fixed; top:10px; left:14px; z-index:11;
      font-size:24px; font-weight:800; letter-spacing:.2px; color:var(--logo);
    }
    .logo sup{font-size:10px; vertical-align:top; margin-left:2px; color:var(--logo)}

    /* LAYOUT */
    .stage{ width:100%; height:100%; padding-top:78px; display:flex; justify-content:center; align-items:center }
    .wrap{ width:min(980px,94%); display:flex; gap:22px; align-items:flex-start }

    /* ============ FLAT MODERN SEED MASCOT ============ */
    .mascot{ width:160px; min-width:160px; height:220px; display:flex; align-items:center; justify-content:center; }
    .seed{
      position:relative; width:120px; height:160px; border-radius:55%/62%;
      background: conic-gradient(from 210deg at 50% 40%, #9a6a3a, #7f5129 35%, #6b4524 65%, #9a6a3a);
      box-shadow: 0 10px 20px rgba(15,23,42,.18);
      animation: bob 4s ease-in-out infinite;
    }
    /* radial crease to hint the seed seam */
    .seed::before{
      content:""; position:absolute; inset:16% 18% 40% 18%;
      border-radius:50%;
      box-shadow: inset 0 -22px 24px rgba(0,0,0,.15), inset 0 10px 18px rgba(255,255,255,.1);
    }
    /* radicle "nose" (flat, modern) */
    .nose{
      position:absolute; top:48%; left:50%; transform:translate(-50%,-50%);
      width:14px; height:26px; border-radius:8px;
      background:#e9c9a2; box-shadow:0 1px 0 rgba(0,0,0,.15);
    }
    /* smile */
    .smile{
      position:absolute; bottom:36px; left:50%; transform:translateX(-50%);
      width:52px; height:28px; border-bottom:3px solid #2b1d12; border-radius:0 0 60px 60px; opacity:.9;
    }
    /* eyes */
    .eye{
      position:absolute; top:38%; width:28px; height:28px; border-radius:50%; background:#fff;
      box-shadow: 0 2px 0 rgba(0,0,0,.06);
      overflow:hidden;
    }
    .eye.left{ left:26px; } .eye.right{ right:26px; }
    .pupil{
      position:absolute; width:10px; height:10px; border-radius:50%; background:#0b0b0b;
      left:9px; top:9px;
      animation: gaze 5s ease-in-out infinite;
    }
    /* eyelid blink */
    .lid{
      position:absolute; inset:0 0 auto 0; height:0%; background:#9a6a3a; opacity:.95;
      animation: blink 6s ease-in-out infinite;
    }
    @keyframes bob{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    /* gaze: look at input (to the right/down a touch), then forward */
    @keyframes gaze{
      0%   { transform: translate(0,0); }       /* forward */
      40%  { transform: translate(6px,3px); }   /* toward chat box */
      50%  { transform: translate(6px,3px); }
      90%  { transform: translate(0,0); }       /* back at user */
      100% { transform: translate(0,0); }
    }
    @keyframes blink{
      0%,90%,100%{ height:0% }
      92% { height:100% } /* quick blink */
      94% { height:0% }
    }

    /* CHAT CARD */
    .chat{
      flex:1; background:var(--card); border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow);
      padding:18px; display:flex; flex-direction:column; gap:12px; min-width:300px; max-width:720px
    }
    .log{
      background:#f7f9ff; border:1px solid #e8eef8; border-radius:12px; padding:12px; max-height:380px; overflow:auto;
      color:#0f172a; font-size:16px; line-height:1.6;
    }
    .input{
      width:100%; padding:12px; border:1px solid #e6e8ef; border-radius:12px; outline:none; font-size:15px; color:#0f172a;
      background:#fff;
    }
    .row{display:flex; gap:8px; flex-wrap:wrap}
    .pill{
      display:inline-block; padding:.34rem .7rem; border:1px solid #e5e7eb; border-radius:999px; background:#fff; color:#334155;
      font-size:12px; cursor:pointer; transition:transform .06s ease, background .15s ease;
    }
    .pill:hover{ background:#f3f4f6; transform:translateY(-1px); }

    /* PANELS */
    .panel{
      display:none; margin-top:16px; width:min(980px,94%); background:#ffffffcc; border:1px solid #e5e7eb;
      border-radius:16px; padding:16px; box-shadow:var(--shadow); color:#0f172a;
    }
    .panel h3{ margin:0 0 8px 0 }
    .muted{ color:var(--muted) }

    /* Responsive: hide mascot on small screens */
    @media (max-width:760px){ .mascot{display:none} .log{max-height:320px} }
  </style>
</head>
<body>
  <!-- NAV -->
  <div class="navbar">
    <a href="#" class="nav-item" id="aiTab">MayaNut AI</a>
    <a href="#" class="nav-item" id="productsTab">Products</a>
    <a href="#" class="nav-item" id="aboutTab">About MayaNut</a>
  </div>
  <div class="logo">MayaNut<sup>™</sup></div>

  <!-- STAGE -->
  <div class="stage">
    <div class="wrap">
      <!-- Mascot (flat modern) -->
      <div class="mascot" aria-hidden="true">
        <div class="seed">
          <div class="eye left">
            <div class="lid"></div>
            <div class="pupil"></div>
          </div>
          <div class="eye right">
            <div class="lid"></div>
            <div class="pupil"></div>
          </div>
          <div class="nose"></div>
          <div class="smile"></div>
        </div>
      </div>

      <!-- Chat -->
      <div class="chat">
        <div class="log" id="chatLog" aria-live="polite"></div>
        <input id="chatInput" class="input" placeholder="Ask what you want to buy" aria-label="Chat input"/>
        <div class="row">
          <span class="pill" data-quick="buy">Buy Products</span>
          <span class="pill" data-quick="about">About Us</span>
          <span class="pill" data-quick="social">Instagram</span>
        </div>
      </div>
    </div>
  </div>

  <!-- PANELS -->
  <div class="panel" id="productPage">
    <h3>Products</h3>
    <ul>
      <li>MayaNut Flour — placeholder</li>
      <li>MayaNut Drink — placeholder</li>
      <li>MayaNut Snacks — placeholder</li>
    </ul>
    <p class="muted">Placeholders for now — we’ll wire real product pages when you’re ready.</p>
  </div>

  <div class="panel" id="aboutPage">
    <h3>About MayaNut</h3>
    <p>MayaNut was founded on April 24, 2008 to ensure the survival of the <em>Brosimum alicastrum</em> species and to benefit humanity through its agricultural uses.</p>
    <p><em>Brosimum alicastrum</em> (Maya Nut / Breadnut) belongs to Moraceae. It’s valued in modern agroforestry for productivity, drought resilience, canopy services, and nutrient-dense seeds used as flour or a roasted, caffeine-free beverage.</p>
  </div>

  <script>
    /* Offline smart intents (same clean guardrails) */
    const mayaSynonyms = [
      "mayanut","maya nut","breadnut","brosimum","brosimum alicastrum","ramon","ojoche","guaimaro","capomo"
    ];
    const COMPANY_INFO =
      "MayaNut was founded on April 24, 2008 to ensure the survival of the Brosimum alicastrum species and to benefit humanity through its agricultural uses.";
    const TREE_INFO =
      "Brosimum alicastrum (Maya Nut / Breadnut) is in the Moraceae family. In agroforestry it’s prized for productivity, drought resilience, canopy services, and nutrient-dense seeds (flour or roasted, caffeine-free beverage).";

    const BUY_TRIG = ["buy","product page","products","shop","purchase","order","take me to products","take me to the product page"];
    const COMPANY_TRIG = ["company","about us","about mayanut","who are you","when founded"];
    const SOCIAL_TRIG = ["instagram","social","social media","ig"];
    const TREE_TRIG = ["tree","brosimum","brosimum alicastrum","what is mayanut","tell me about mayanut","what is breadnut","what is ramon"];

    const norm = s => (s||"").toLowerCase();
    function includesAny(t, arr){ return arr.some(k => t.includes(k)); }

    const chatLog = document.getElementById("chatLog");
    const chatInput = document.getElementById("chatInput");
    const productPage = document.getElementById("productPage");
    const aboutPage = document.getElementById("aboutPage");

    function say(role, html){
      chatLog.innerHTML += `<div><strong>${role}:</strong> ${html}</div>`;
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    function detectIntent(msg){
      const t = norm(msg);
      if(includesAny(t, BUY_TRIG)) return "buy";
      if(includesAny(t, SOCIAL_TRIG)) return "social";
      if(includesAny(t, COMPANY_TRIG)) return "company";
      if(includesAny(t, TREE_TRIG) || includesAny(t, mayaSynonyms)) return "tree";
      const m = t.match(/^(tell me about|what is|info on|information on)\s+(.+)$/i);
      if(m){
        const subj = m[2];
        if(includesAny(subj, ["company","mayanut","mayanut company","maya nut"])) return "company";
        if(includesAny(subj, mayaSynonyms)) return "tree";
      }
      return "other";
    }

    function handle(message){
      say("You", message);
      const intent = detectIntent(message);
      switch(intent){
        case "buy":     say("Bot", productPage.innerHTML); break;
        case "social":  say("Bot", 'Find us on Instagram: <a href="https://instagram.com/mayanut.co" target="_blank">@mayanut.co</a>'); break;
        case "company": say("Bot", COMPANY_INFO); break;
        case "tree":    say("Bot", TREE_INFO); break;
        default:        say("Bot","I can help with MayaNut products, our company, or the Maya Nut tree.");
      }
    }

    chatInput.addEventListener("keydown", e=>{
      if(e.key==="Enter"){
        const v = chatInput.value.trim(); if(!v) return;
        chatInput.value=""; handle(v);
      }
    });

    document.querySelectorAll(".pill").forEach(p=>{
      p.addEventListener("click",()=>handle(p.getAttribute("data-quick")));
    });

    document.getElementById("aiTab").addEventListener("click", ()=>{
      productPage.style.display="none"; aboutPage.style.display="none";
      document.querySelector(".stage").scrollIntoView({behavior:"smooth"});
    });
    document.getElementById("productsTab").addEventListener("click", ()=>{
      productPage.style.display="block"; aboutPage.style.display="none";
      productPage.scrollIntoView({behavior:"smooth"});
    });
    document.getElementById("aboutTab").addEventListener("click", ()=>{
      aboutPage.style.display="block"; productPage.style.display="none";
      aboutPage.scrollIntoView({behavior:"smooth"});
    });

    if(!sessionStorage.getItem("greeted")){
      say("Bot","Welcome to MayaNut AI. Ask about products, our company, or the Maya Nut tree.");
      sessionStorage.setItem("greeted","1");
    }
  </script>
</body>
</html>
