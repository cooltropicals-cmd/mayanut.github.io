<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The MayaNut Company</title>

<!-- Christmas font -->
<link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&display=swap" rel="stylesheet">

<!-- Base + headline fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">

<!-- Favicon -->
<link rel="icon" type="image/png" href="the-maya-nut-company-favicon-logo.png" />
<link rel="shortcut icon" type="image/png" href="the-maya-nut-company-favicon-logo.png" />

<meta name="theme-color" content="#18A7FF" />
<meta name="robots" content="index,follow" />

<!-- SEO: description + keywords -->
<meta name="description" content="Maya nut beverage and products made from Brosimum alicastrum, also known as breadnut, ojoche, ram√≥n, guiamaro ‚Äì a tropical rainforest tree. Tropical trees, agroforestry and future Maya nut beverages, powders and flours.">
<meta name="keywords" content="
Maya nut, maya nut, mayanut, MayaNut, Brosimum alicastrum, breadnut, bread nut, ojoche, ram√≥n, guiamaro, tropical trees, tropical tree, rainforest tree, agroforestry,
ÁéõÈõÖÂùöÊûú, Èù¢ÂåÖÊûú, ÁÉ≠Â∏¶Ê†ëÊú®, ÁÉ≠Â∏¶Èõ®ÊûóÊ†ë, Brosimum alicastrum,
‡§Æ‡§æ‡§Ø‡§æ ‡§®‡§ü, ‡§Æ‡§Ø‡§æ‡§®‡§ü, ‡§¨‡•ç‡§∞‡•á‡§°‡§®‡§ü, ‡§â‡§∑‡•ç‡§£‡§ï‡§ü‡§ø‡§¨‡§Ç‡§ß‡•Ä‡§Ø ‡§™‡•á‡§°‡§º, Brosimum alicastrum,
–ú–∞–π—è-–Ω—É—Ç, –º–∞—è–Ω—É—Ç, —Ö–ª–µ–±–Ω–æ–µ –¥–µ—Ä–µ–≤–æ, —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–µ –¥–µ—Ä–µ–≤—å—è, Brosimum alicastrum,
nuez maya, ram√≥n, ojoche, √°rbol tropical, √°rbol de la selva tropical, Brosimum alicastrum,
noz maia, noz de maya, √°rvore tropical, √°rvore de floresta tropical, Brosimum alicastrum,
ŸÖÿßŸäÿß ŸÜŸéÿ™, ŸÖÿßŸäÿßŸÜŸéÿ™, ÿ¨Ÿàÿ≤ ÿßŸÑŸÖÿßŸäÿß, ÿ¥ÿ¨ÿ±ÿ© ÿßÿ≥ÿ™Ÿàÿßÿ¶Ÿäÿ©, Brosimum alicastrum
">

<style>
:root{
  --bg:#18A7FF;
  /* Blue‚Äìpurple gradient background */
  --bg-grad:
    radial-gradient(circle at 50% 20%, #4fd8ff 0, #18A7FF 35%, transparent 70%),
    radial-gradient(circle at 0% 100%, #6c46ff 0, #001996 55%, transparent 80%),
    radial-gradient(circle at 100% 100%, #6c46ff 0, #001996 55%, transparent 80%),
    #0a56c2;

  /* BUY background ‚Äì mostly white, soft pink, lavender at edges */
  --buy-grad:
    radial-gradient(circle at 50% 30%, #ffffff 0, #ffffff 40%, #ffe9f5 65%, #e8ddff 90%),
    #ffffff;

  --bar:#003cc7;
  --bar-h:72px;
  --logo-offset:12px;

  --orange:#ffb957;   /* slightly lighter orange */
  --orange-deep:#ff8a1c;
}

/* Slightly taller bar on very small screens */
@media (max-width: 600px){
  :root{
    --bar-h:90px;
  }
}

/* GLOBAL */
*,
*::before,
*::after{
  box-sizing:border-box;
}

html,body{
  margin:0;
  padding:0;
  scroll-behavior:smooth;
  font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  color:#fff;
}

body{
  background:var(--bg-grad);
  background-attachment:fixed;
}

/* TOP BAR */
.topbar{
  position:fixed;
  top:0; left:0; right:0;
  background:
    radial-gradient(circle at 0% 100%, #6c46ff 0, #003cc7 55%, transparent 80%),
    radial-gradient(circle at 100% 0%, #6c46ff 0, #003cc7 55%, transparent 80%),
    #003cc7;
  color:#fff;
  display:grid;
  grid-template-columns:auto 1fr auto;
  grid-template-areas:"menu title lang";
  align-items:center;
  column-gap:6px;
  padding:8px 10px;
  min-height:var(--bar-h);
  z-index:1000;
  border-bottom:1px solid rgba(255,255,255,0.25);
  padding-top:calc(8px + env(safe-area-inset-top, 0px));
}

/* Hamburger menu */
.menu-toggle{
  grid-area:menu;
  border:none;
  background:rgba(0,0,0,0.18);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  padding:6px 8px;
  cursor:pointer;
  justify-self:start;
  margin-left:4px;
  z-index:1100;
  border-radius:999px;
}
.menu-toggle span{
  display:block;
  width:18px;
  height:3px;
  border-radius:999px;
  background:#ffffff;
  transition:transform 0.2s ease, opacity 0.2s ease;
}
.menu-toggle.open span:nth-child(1){
  transform:translateY(6px) rotate(45deg);
}
.menu-toggle.open span:nth-child(2){
  opacity:0;
}
.menu-toggle.open span:nth-child(3){
  transform:translateY(-6px) rotate(-45deg);
}

/* Title in top bar */
.topbar-title{
  grid-area:title;
  font-family:"Mountains of Christmas", cursive;
  font-size:18px;
  text-align:center;
  animation:merrygiggle 6s ease-in-out infinite;
  max-width:100%;
  justify-self:center;
  padding:0 6px;
  white-space:nowrap;
}

/* LANGUAGE SWITCHER ‚Äì label in bar, dropdown below bar */
.topbar-lang{
  grid-area:lang;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:3px;
  justify-self:end;
  font-size:12px;
  margin-right:2px;
}
.topbar-lang-label{
  display:flex;
  align-items:center;
  gap:4px;
}
.topbar-lang-label-emoji{
  font-size:20px;
  line-height:1;
}
.topbar-lang-label-text{
  font-size:13px;
}
.topbar-lang-current-btn{
  margin-top:2px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:3px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.7);
  background:rgba(10,86,194,0.9);
  color:#fff;
  font-size:12px;
  cursor:pointer;
  outline:none;
}
.topbar-lang-current{
  line-height:1;
}
.topbar-lang-caret{
  font-size:10px;
  transform:translateY(1px);
}

/* Custom dropdown panel BELOW the bar */
.lang-dropdown{
  position:fixed;
  top:calc(var(--bar-h) + 2px);
  right:10px;
  background:rgba(10,86,194,0.98);
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.6);
  box-shadow:0 8px 20px rgba(0,0,0,0.4);
  padding:6px 0;
  z-index:1500;
  display:none;
  min-width:180px;
}
.lang-dropdown.open{
  display:block;
}
.lang-dropdown ul{
  list-style:none;
  margin:0;
  padding:0;
}
.lang-dropdown li{
  padding:6px 14px;
  font-size:13px;
  color:#ffffff;
  cursor:pointer;
  white-space:nowrap;
  font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
}
.lang-dropdown li:hover{
  background:rgba(255,255,255,0.16);
}
.lang-dropdown li.active{
  color:var(--orange);
  text-decoration:underline;
  text-underline-offset:3px;
}

/* Narrow screens: hide "Language" word */
@media (max-width: 420px){
  .topbar-lang-label-text{
    display:none;
  }
  .topbar-lang-current-btn{
    font-size:11px;
    padding:2px 7px;
  }
}

/* INLINE LOGO IN TOP BAR (MOBILE ONLY) */
.topbar-logo-inline{
  display:none;
}
.topbar-logo-inline img{
  height:44px;
  width:auto;
  filter:drop-shadow(0 1px 4px rgba(0,0,0,0.5));
}

/* MOBILE TOPBAR LAYOUT */
@media (max-width: 600px){
  .topbar{
    grid-template-columns:auto 1fr auto;
    grid-template-rows:auto auto;
    grid-template-areas:
      "menu logo lang"
      "title title title";
    align-items:center;
    padding-left:8px;
    padding-right:8px;
  }

  .topbar-title{
    font-size:14px;
    line-height:1.2;
    margin-top:4px;
    padding:0 6px;
  }

  .menu-toggle{
    position:relative;
    margin-left:0;
  }

  .topbar-logo-inline{
    grid-area:logo;
    display:block;
    justify-self:center;
  }

  /* Hide fixed logo on mobile */
  .topbar-logo-link{
    display:none;
  }
}

/* FIXED LOGO BELOW BAR (DESKTOP) */
.topbar-logo-link{
  position:fixed;
  left:var(--logo-offset);
  top:calc(var(--bar-h) + var(--logo-offset));
  z-index:900;
}
.topbar-logo{
  width:95px;
  height:95px;
  display:block;
  filter:drop-shadow(0 2px 8px rgba(0,0,0,0.35));
  cursor:pointer;
}

/* HERO */
.hero{
  position:relative;
  min-height:100vh;
  padding-top:calc(var(--bar-h) + 130px);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  background:var(--bg-grad);
  background-size:200% 200%;
  animation:lavaMove 40s ease-in-out infinite alternate;
}

/* LAVA-LAMP STYLE BACKGROUND ANIMATION ‚Äì only hero */
@keyframes lavaMove{
  0%   { background-position: 0% 0%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 100%; }
}

.hero-inner{
  width:100%;
  max-width:1100px;
  padding:0 16px 80px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:40px;
  position:relative;
  z-index:1;
}

/* Snow canvases (hero + about) */
.snow-canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
  pointer-events:none;
  z-index:0;
}

/* HERO CONTENT */
.hero-right{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:40px;
  width:100%;
}

/* Headline */
.hero-headline{
  flex:1;
  max-width:520px;
  margin-left:8px;
  font-family:"Bungee", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  font-size:70px;
  line-height:1.05;
  font-weight:400;
  color:#ffffff;
  -webkit-text-stroke:3px #0057c8;
  text-stroke:3px #0057c8;
  text-shadow:
    0 3px 0 #0057c8,
    0 6px 12px rgba(0,0,0,0.4);
}
.hero-headline span{
  display:block;
}
.hero-headline .headline-coming{
  text-decoration:underline;
  text-decoration-color:var(--bar);
  text-underline-offset:4px;
  white-space:nowrap;
}

/* Hero CTA button ‚Äì centered + subtle shine outline */
.hero-cta-wrap{
  margin-top:24px;
  display:flex;
  justify-content:center;
}
.hero-cta-btn{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:14px 48px;
  border-radius:999px;
  border:none;
  text-decoration:none;
  font-family:"Bungee", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  font-size:20px;
  letter-spacing:0.08em;
  text-transform:uppercase;
  background:linear-gradient(135deg, var(--orange-deep) 0%, var(--orange) 45%, #ffe27a 100%);
  color:#fff;
  box-shadow:0 4px 14px rgba(0,0,0,0.4);
  cursor:pointer;
  transition:box-shadow 0.18s ease, transform 0.18s ease;
}
.hero-cta-btn::before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:999px;
  border:2px solid rgba(255,255,255,0.9);
  opacity:0;
  pointer-events:none;
  animation:buttonShine 1.8s ease-in-out infinite;
}
@keyframes buttonShine{
  0%,100%{ opacity:0; }
  50%{ opacity:1; }
}
.hero-cta-btn:hover{
  box-shadow:0 7px 20px rgba(0,0,0,0.55);
}

/* Hero glass image */
.hero-image-wrap{
  flex:0 0 auto;
  margin-left:auto;
}
.hero-image-link{
  display:inline-block;
}
.hero-glass{
  width:520px;
  max-width:85vw;
  display:block;
  cursor:pointer;
}

/* Wiggle animation for title */
@keyframes merrygiggle{
  0%   { transform:translateX(0); }
  25%  { transform:translateX(4px); }
  50%  { transform:translateX(0); }
  75%  { transform:translateX(-4px); }
  100% { transform:translateX(0); }
}

/* TRANSITION STRIPS */
.transition-strip{
  background:linear-gradient(
    90deg,
    #7bc4ff 0%,
    #0e4fb8 24%,
    #aa00fe 50%,
    #0e4fb8 76%,
    #7bc4ff 100%
  );
  color:#f5fbff;
  text-align:center;
  padding:14px 16px;
  font-family:"Bungee", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  letter-spacing:0.06em;
  font-size:15px;
  position:relative;
  z-index:1;
  text-shadow:0 1px 2px rgba(0,0,0,0.45);
  border-top:1px solid rgba(255,255,255,0.4);
  border-bottom:1px solid rgba(0,0,0,0.45);
  box-shadow:0 3px 8px rgba(0,0,0,0.45);
}

/* GENERIC SECTION */
.section{
  padding:70px 16px 80px;
  position:relative;
  z-index:1;
  overflow:hidden;
}
.section-inner{
  max-width:1100px;
  margin:0 auto;
}

/* STORE SECTION */
.section--buy{
  background:var(--buy-grad);
  color:#083b7c;
  padding:40px 16px 60px;
}
.store-inner{
  max-width:900px;
  margin:0 auto;
}
.store-heading{
  text-align:center;
  margin-bottom:22px;
}
.store-heading h2{
  margin:0 0 6px;
  font-size:22px;
  color:#2b346c;
}
.store-heading p{
  margin:0;
  font-size:14px;
  color:#4a5288;
}
.store-scroller-wrapper{
  overflow-x:auto;
  padding-bottom:10px;
}
.store-scroller{
  display:flex;
  gap:16px;
  padding-bottom:4px;
}
.store-item{
  flex:0 0 220px;
  background:linear-gradient(135deg,#f5ecff 0%,#ffffff 45%,#e7dcff 100%);
  border-radius:18px;
  padding:14px 14px 18px;
  box-shadow:0 3px 12px rgba(0,0,0,0.16);
  display:flex;
  flex-direction:column;
  align-items:center;
}
.store-item-image{
  width:100%;
  aspect-ratio:4/5;
  border-radius:14px;
  background:radial-gradient(circle at 30% 20%, #f3eaff 0, #ffffff 45%, #e4defe 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#5f63a8;
  font-weight:600;
  font-size:14px;
  margin-bottom:10px;
  overflow:hidden;
  cursor:pointer;
}
.store-item-photo{
  width:100%;
  height:100%;
  object-fit:cover;
}
.store-item-label{
  font-size:14px;
  color:#40437a;
  text-align:center;
}

/* STORE MODAL for first image */
.store-modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2200;
}
.store-modal-backdrop.open{
  display:flex;
}
.store-modal{
  position:relative;
  background:#ffffff;
  color:#123055;
  max-width:720px;
  width:90%;
  border-radius:16px;
  padding:18px 20px 18px;
  box-shadow:0 8px 24px rgba(0,0,0,0.6);
  display:flex;
  flex-wrap:wrap;
  gap:16px;
}
.store-modal-image-wrap{
  flex:0 0 240px;
  max-width:100%;
}
.store-modal-image-wrap img{
  width:100%;
  border-radius:14px;
  object-fit:cover;
  box-shadow:0 3px 12px rgba(0,0,0,0.35);
}
.store-modal-text{
  flex:1;
  min-width:200px;
  font-size:14px;
  line-height:1.7;
}
.store-modal-text h3{
  margin-top:0;
  margin-bottom:8px;
}
.store-modal-close{
  position:absolute;
  top:8px;
  right:10px;
  border:none;
  background:transparent;
  color:#444;
  font-size:22px;
  cursor:pointer;
}

/* ABOUT SECTION */
.section--about::before{
  content:"";
  position:absolute;
  top:-30px;
  left:50%;
  transform:translateX(-50%);
  width:130%;
  height:90px;
  border-radius:50% 50% 0 0;
  z-index:-1;
  background:
    radial-gradient(circle at 0% 100%, #6c46ff 0, #003cc7 55%, transparent 80%),
    radial-gradient(circle at 100% 0%, #6c46ff 0, #003cc7 55%, transparent 80%),
    #003cc7;
}
.section--about{
  background:var(--bg-grad);
  color:#fff;
}

/* About snow canvas */
.section--about .snow-canvas{
  z-index:0;
}
.section--about .section-inner{
  position:relative;
  z-index:1;
}

.about-grid{
  display:grid;
  grid-template-columns:minmax(0,320px) minmax(0,1fr);
  gap:28px;
  align-items:flex-start;
}
.about-images{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.about-image-tile{
  position:relative;
}
.about-images img{
  width:100%;
  border-radius:14px;
  object-fit:cover;
  box-shadow:0 2px 10px rgba(0,0,0,0.25);
  display:block;
}
.about-images .square{
  aspect-ratio:1/1;
}

/* Expand button overlay ‚Äì icon only, expands left on hover (desktop) */
.img-expand-btn{
  position:absolute;
  top:8px;
  right:8px;
  border:none;
  border-radius:999px;
  padding:4px 8px;
  background:rgba(0,0,0,0.6);
  color:#ffffff;
  font-size:11px;
  display:flex;
  flex-direction:row-reverse; /* icon on right, text grows to left */
  align-items:center;
  gap:4px;
  cursor:pointer;
  white-space:nowrap;
  overflow:hidden;
}
.img-expand-icon{
  font-size:13px;
}
.img-expand-hint{
  opacity:0;
  transform:translateX(4px);
  transition:opacity 0.18s ease, transform 0.18s ease;
}

/* Desktop hover hint */
@media(min-width: 801px){
  .about-image-tile:hover .img-expand-hint{
    opacity:1;
    transform:translateX(0);
  }
  .about-image-tile:hover .img-expand-btn{
    padding-left:12px;
    transform:scale(1.04);
  }
}

/* Mobile: keep icon-only */
@media(max-width: 800px){
  .img-expand-hint{
    display:none;
  }
}

/* Lightbox for expanded images */
.img-lightbox-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.75);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2600;
}
.img-lightbox-backdrop.open{
  display:flex;
}
.img-lightbox-content{
  position:relative;
  max-width:min(90vw, 650px);
  max-height:80vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.img-lightbox-img{
  max-width:100%;
  max-height:100%;
  border-radius:16px;
  box-shadow:0 6px 24px rgba(0,0,0,0.7);
  object-fit:contain;
}
.img-lightbox-close{
  position:absolute;
  top:-18px;
  right:-18px;
  width:32px;
  height:32px;
  border-radius:50%;
  border:none;
  background:rgba(255,255,255,0.95);
  color:#000;
  font-size:18px;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(0,0,0,0.6);
}

/* About text side */
.about-text-col{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.about-text-card{
  background:#ffffff;
  border-radius:18px;
  padding:18px 20px 20px;
  box-shadow:0 3px 14px rgba(0,0,0,0.25);
  color:#3b3f7a;
  font-size:15px;
  line-height:1.7;
}
/* Soft lavender gradients */
.about-card-1{
  background:linear-gradient(135deg, #f6f1ff 0%, #ffffff 55%, #ece0ff 100%);
}
.about-card-2{
  background:linear-gradient(135deg, #f5edff 0%, #ffffff 55%, #e7dcff 100%);
}
.about-card-3{
  background:linear-gradient(135deg, #f4ecff 0%, #ffffff 55%, #e3d8ff 100%);
}
.about-card-4{
  background:linear-gradient(135deg, #f3eaff 0%, #ffffff 55%, #ded2ff 100%);
}
.about-card-5{
  background:linear-gradient(135deg, #f2e8ff 0%, #ffffff 55%, #d9ccff 100%);
}

.about-text-card h2,
.about-text-card h3{
  margin-top:0;
  margin-bottom:8px;
  color:#30346a;
  text-decoration:underline;
  text-underline-offset:4px;
}

/* Make main About title likely one line */
.about-text-card.about-card-1 h2{
  font-size:19px;
  white-space:nowrap;
}

/* STORE / ABOUT layout on smaller screens */
@media(max-width:800px){
  .hero{
    padding-top:calc(var(--bar-h) + 40px);
  }
  .hero-inner{
    flex-direction:column;
    gap:24px;
    padding-top:8px;
  }
  .hero-right{
    flex-direction:column-reverse;
    align-items:center;
    gap:20px;
  }
  .hero-headline{
    font-size:40px;
    max-width:none;
    -webkit-text-stroke:2px #0057c8;
    text-stroke:2px #0057c8;
    text-align:center;
    margin-left:0;
  }
  .hero-image-wrap{
    margin-left:0;
    align-self:center;
  }
  .about-grid{
    grid-template-columns:1fr;
  }
}

/* BOTTOM LOGO */
.section--bottom-logo{
  background:
    radial-gradient(circle at 0% 100%, #6c46ff 0, #003cc7 55%, transparent 80%),
    radial-gradient(circle at 100% 0%, #6c46ff 0, #003cc7 55%, transparent 80%),
    #003cc7;
  text-align:center;
}
.section--bottom-logo img{
  width:200px;
  height:auto;
  filter:drop-shadow(0 3px 12px rgba(0,0,0,0.3));
  cursor:pointer;
}

/* FOOTER */
footer{
  background:
    radial-gradient(circle at 0% 100%, #6c46ff 0, #003cc7 55%, transparent 80%),
    radial-gradient(circle at 100% 0%, #6c46ff 0, #003cc7 55%, transparent 80%),
    #003cc7;
  color:#d5e3ff;
  padding:18px 16px 28px;
  font-size:13px;
}
.footer-inner{
  max-width:1100px;
  margin:0 auto;
}
.footer-line{
  border:none;
  border-top:1px solid rgba(255,255,255,0.25);
  margin:0 0 10px;
}
.footer-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  flex-wrap:wrap;
}
.footer-links{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.footer-links a{
  color:#d5e3ff;
  text-decoration:none;
  border-bottom:1px dashed rgba(213,227,255,0.6);
  cursor:pointer;
}

/* Instagram icon */
.footer-instagram a{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:32px;
  height:32px;
  border-radius:9px;
  border:2px solid #ffffff;
  position:relative;
  text-decoration:none;
}
.footer-instagram span{
  display:none;
}
.footer-instagram a::before{
  content:"";
  position:absolute;
  width:16px;
  height:16px;
  border:2px solid #ffffff;
  border-radius:4px;
  top:7px;
  left:6px;
}
.footer-instagram a::after{
  content:"";
  position:absolute;
  width:4px;
  height:4px;
  border-radius:50%;
  background:#ffffff;
  top:3px;
  right:3px;
}

.footer-copy{
  font-size:12px;
  margin-top:6px;
}

/* NAV OVERLAY (Menu) */
.nav-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1400;
}
.nav-backdrop.open{
  display:flex;
}
.nav-modal{
  max-width:420px;
  width:min(90vw, 420px);
  border-radius:18px;
  padding:22px 24px 24px;
  box-shadow:0 10px 30px rgba(0,0,0,0.55);
  color:#ffffff;
  text-align:left;
  font-size:15px;
  line-height:1.7;
  background:
    radial-gradient(circle at 0% 0%, #aa00fe 0, #0c6fda 45%, transparent 80%),
    radial-gradient(circle at 100% 100%, #aa00fe 0, #083f94 45%, transparent 80%),
    radial-gradient(circle at 50% 50%, #49d5ff 0, #18A7FF 40%, #07336f 85%);
  position:relative;
}
.nav-modal-title{
  margin:0 0 4px;
  font-weight:800;
  font-size:20px;
  text-align:center;
}
.nav-modal-title-underline{
  width:90px;
  height:3px;
  margin:5px auto 10px;
  background:#ffffff;
  border-radius:999px;
}

/* Top & bottom link groups */
.nav-modal-links{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-top:8px;
}
.nav-modal-links-top{
  margin-bottom:10px;
}
.nav-modal-links-bottom{
  margin-top:10px;
}

/* Center logo between scroll + click sections */
.nav-modal-center-logo{
  display:flex;
  justify-content:center;
  margin-top:4px;
}
.nav-modal-center-logo img{
  width:80px;
  height:auto;
  filter:drop-shadow(0 3px 10px rgba(0,0,0,0.55));
}

/* Divider line under logo */
.nav-modal-divider{
  width:100%;
  height:3px;
  border-radius:999px;
  margin:10px 0 0;
  background:linear-gradient(90deg, #ffffff 0%, #ffd27a 50%, #ffffff 100%);
  opacity:0.85;
}

.nav-modal-links a{
  position:relative;
  color:#ffffff;
  text-decoration:none;
  font-weight:600;
  font-size:15px;
  padding:7px 10px;
  border-radius:10px;
  transition:background 0.15s ease;
}
.nav-modal-links a::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-3px;
  width:100%;
  height:0;
  background:var(--orange);
  transform-origin:left;
  transform:scaleX(1);
}

/* Hover: background lights up lighter blue */
.nav-modal-links a:hover{
  background:rgba(24,167,255,0.22);
}

/* Active: long orange underline only for active link */
.nav-modal-links a.nav-link-active::after{
  height:3px;
}

.nav-close{
  position:absolute;
  top:10px;
  right:12px;
  border:none;
  background:transparent;
  color:#ffffff;
  font-size:20px;
  line-height:1;
  cursor:pointer;
}

/* Generic modal (Privacy / DNS) */
.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
.modal{
  background:#ffffff;
  color:#123055;
  max-width:420px;
  width:90%;
  border-radius:14px;
  padding:18px 18px 16px;
  box-shadow:0 6px 20px rgba(0,0,0,0.35);
  font-size:14px;
}
.modal h3{
  margin:0 0 8px;
  font-size:16px;
}
.modal p{
  margin:0 0 6px;
  line-height:1.6;
}
.modal-close{
  margin-top:10px;
  display:inline-flex;
  padding:4px 10px;
  border-radius:999px;
  border:none;
  background:#0a56c2;
  color:#fff;
  font-size:13px;
  cursor:pointer;
}

/* WELCOME POPUP */
.welcome-backdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2500;
}

/* Outer container transparent so you see dimmed site around the rectangles */
.welcome-modal{
  max-width:760px;
  width:min(95vw, 760px);
  margin:20px;
  display:flex;
  gap:18px;
  position:relative;
  background:transparent;
  box-shadow:none;
  padding:0;
}

/* Left + right rectangles */
.welcome-panel{
  flex:1;
  border-radius:18px;
  padding:20px 22px 22px;
  background:
    radial-gradient(circle at 0% 100%, #6c46ff 0, #003cc7 55%, transparent 80%),
    radial-gradient(circle at 100% 0%, #6c46ff 0, #003cc7 55%, transparent 80%),
    #0a56c2;
  box-shadow:0 10px 30px rgba(0,0,0,0.55);
}

/* Left = text */
.welcome-panel-left{
  min-width:0;
}

/* Right = logo + button */
.welcome-panel-right{
  max-width:260px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.welcome-logo{
  width:160px;
  height:auto;
  margin-bottom:16px;
  filter:drop-shadow(0 3px 10px rgba(0,0,0,0.5));
}

.welcome-title{
  margin:0 0 8px;
  font-weight:700;
  font-size:18px;
}
.welcome-panel-left p{
  margin:0 0 8px;
  font-size:14px;
  line-height:1.7;
}

/* Right orange button: reuse CTA style but no extra transform */
.welcome-main-btn{
  margin-top:4px;
  font-size:16px;
  padding:10px 26px;
}

/* X in the transparent gap on the top-right of the popup */
.welcome-close{
  position:absolute;
  top:-18px;
  right:-18px;
  border:none;
  background:transparent;
  color:#ffffff;
  font-size:26px;
  line-height:1;
  cursor:pointer;
}

/* Responsive welcome popup stacking */
@media(max-width:700px){
  .welcome-modal{
    flex-direction:column;
    align-items:stretch;
  }
  .welcome-panel-right{
    max-width:none;
  }
  .welcome-close{
    top:8px;
    right:8px;
  }
}

/* Responsive breakpoints for store */
@media(max-width:800px){
  .footer-row{
    flex-direction:row;
    justify-content:space-between;
  }
  .transition-strip{
    font-size:13px;
    letter-spacing:0.04em;
  }
  .store-item{
    flex:0 0 70vw;
  }
}
@media(max-width:500px){
  .hero-glass{
    max-width:75vw;
  }
  .hero-headline{
    font-size:32px;
  }
}
</style>
</head>

<body>

<header class="topbar">
  <!-- Menu icon -->
  <button class="menu-toggle" id="menu-toggle" aria-label="Open menu">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <!-- Mobile inline logo (hidden on desktop) -->
  <a href="#top" class="topbar-logo-inline" id="topbar-logo-inline">
    <img src="mayanut-the-maya-nut-company-logo.png" alt="The MayaNut Company logo">
  </a>

  <!-- Center title -->
  <div class="topbar-title">
    ‚ùÑÔ∏è The MayaNut Company Wishing You Happy Holidays 2025 ‚ùÑÔ∏è
  </div>

  <!-- Language selector (18 languages) -->
  <div class="topbar-lang" id="topbar-lang">
    <span class="topbar-lang-label">
      <span class="topbar-lang-label-emoji">üåé</span>
      <span class="topbar-lang-label-text">Language</span>
    </span>
    <button class="topbar-lang-current-btn" id="lang-toggle" aria-haspopup="true" aria-expanded="false">
      <span id="lang-current">English</span>
      <span class="topbar-lang-caret">‚ñæ</span>
    </button>
  </div>
</header>

<!-- Custom dropdown BELOW the bar -->
<div class="lang-dropdown" id="lang-dropdown" aria-label="Site language">
  <ul>
    <li data-file="index.html">English</li>
    <li data-file="index-es.html">Espa√±ol</li>
    <li data-file="index-pt.html">Portugu√™s</li>
    <li data-file="index-fr.html">Fran√ßais</li>
    <li data-file="index-de.html">Deutsch</li>
    <li data-file="index-it.html">Italiano</li>
    <li data-file="index-ru.html">–†—É—Å—Å–∫–∏–π</li>
    <li data-file="index-zh.html">‰∏≠Êñá</li>
    <li data-file="index-ja.html">Êó•Êú¨Ë™û</li>
    <li data-file="index-hi.html">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</li>
    <li data-file="index-ur.html">ÿßÿ±ÿØŸà</li>
    <li data-file="index-bn.html">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</li>
    <li data-file="index-id.html">Bahasa Indonesia</li>
    <li data-file="index-ar.html">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</li>
    <li data-file="index-sw.html">Kiswahili</li>
    <li data-file="index-ha.html">Hausa</li>
    <li data-file="index-fil.html">Filipino</li>
    <li data-file="index-yo.html">Yor√πb√°</li>
  </ul>
</div>

<!-- Fixed logo below the bar (desktop only) -->
<a href="#top" class="topbar-logo-link">
  <img src="mayanut-the-maya-nut-company-logo.png" alt="The MayaNut Company logo" class="topbar-logo">
</a>

<!-- Full-screen NAV overlay -->
<div class="nav-backdrop" id="nav-backdrop">
  <div class="nav-modal">
    <button class="nav-close" id="nav-close" aria-label="Close menu">&times;</button>
    <h2 class="nav-modal-title">Menu</h2>
    <div class="nav-modal-title-underline"></div>

    <!-- Top links: scrollable sections -->
    <div class="nav-modal-links nav-modal-links-top">
      <a href="#top" data-section="top">HOME</a>
      <a href="#buy" data-section="buy">STORE</a>
      <a href="#about" data-section="about">ABOUT</a>
    </div>

    <!-- Center logo separator -->
    <div class="nav-modal-center-logo">
      <img src="mayanut-the-maya-nut-company-logo.png" alt="The MayaNut Company logo">
    </div>
    <div class="nav-modal-divider"></div>

    <!-- Bottom links: click to new pages -->
    <div class="nav-modal-links nav-modal-links-bottom">
      <a href="gallery.html" data-external="true">GALLERY</a>
      <a href="research.html" data-external="true">RESEARCH</a>
      <a href="blog.html" data-external="true">BLOG</a>
      <a href="faq.html" data-external="true">FAQ</a>
      <a href="contact.html" data-external="true">CONTACT</a>
    </div>
  </div>
</div>

<main>

  <!-- HERO -->
  <section class="hero" id="top">
    <canvas id="snow" class="snow-canvas"></canvas>

    <div class="hero-inner">
      <div class="hero-right">
        <div>
          <div class="hero-headline">
            <span>Maya nut</span>
            <span>Beverage</span>
            <span class="headline-coming">Coming Soon!</span>
          </div>
          <div class="hero-cta-wrap">
            <a href="#buy" class="hero-cta-btn">Try Now!</a>
          </div>
        </div>

        <div class="hero-image-wrap">
          <a href="#buy" class="hero-image-link">
            <img src="rach20.png" alt="Chilled Maya nut beverage in a glass" class="hero-glass">
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- TRANSITION: STORE -->
  <div class="transition-strip">STORE</div>

  <!-- STORE / BUY -->
  <section class="section section--buy" id="buy">
    <div class="section-inner store-inner">
      <div class="store-heading">
        <h2>Maya nut Store</h2>
        <p>Store Products Coming For Sale Soon!</p>
      </div>

      <div class="store-scroller-wrapper">
        <div class="store-scroller">
          <div class="store-item">
            <div class="store-item-image" id="store-main-image">
              <img src="rach20.png" alt="Chilled Maya nut beverage glass" class="store-item-photo">
            </div>
            <div class="store-item-label">Chilled Maya nut Beverage</div>
          </div>
          <div class="store-item">
            <div class="store-item-image">Product 2</div>
            <div class="store-item-label">Maya nut Beverage ‚Äì Vanilla</div>
          </div>
          <div class="store-item">
            <div class="store-item-image">Product 3</div>
            <div class="store-item-label">Maya nut Beverage ‚Äì Mocha</div>
          </div>
          <div class="store-item">
            <div class="store-item-image">Product 4</div>
            <div class="store-item-label">Maya nut Powder (Breadnut-style)</div>
          </div>
          <div class="store-item">
            <div class="store-item-image">Product 5</div>
            <div class="store-item-label">Future Maya nut Tropical Treats</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Store image modal -->
  <div class="store-modal-backdrop" id="store-modal-backdrop">
    <div class="store-modal">
      <button class="store-modal-close" id="store-modal-close" aria-label="Close product popup">&times;</button>
      <div class="store-modal-image-wrap">
        <img src="rach20.png" alt="Chilled Maya nut beverage glass" id="store-modal-img">
      </div>
      <div class="store-modal-text">
        <h3>The MayaNut Company's Signature Beverage</h3>
        <p>The MayaNut Company's Signature Beverage Coming Soon to a Store Near You!</p>
      </div>
    </div>
  </div>

  <!-- TRANSITION: ABOUT -->
  <div class="transition-strip">ABOUT</div>

  <!-- ABOUT -->
  <section class="section section--about" id="about">
    <canvas id="snow-about" class="snow-canvas"></canvas>
    <div class="section-inner">
      <div class="about-grid">
        <div class="about-images">
          <div class="about-image-tile">
            <img src="maya-nut-mayanut-fruit-brosimum-alicastrum.jpg" alt="Maya nut fruit on Brosimum alicastrum tree in a tropical setting">
            <button class="img-expand-btn" data-img-src="maya-nut-mayanut-fruit-brosimum-alicastrum.jpg" aria-label="Expand image">
              <span class="img-expand-icon">‚§¢</span>
              <span class="img-expand-hint">üëÜ Click to Expand üëÜ</span>
            </button>
          </div>

          <div class="about-image-tile">
            <img src="august-kokus-augustkokus-mayanut-brosimum-alicastrum.jpg" class="square" alt="Founder August Kokus of The MayaNut Company">
            <button class="img-expand-btn" data-img-src="august-kokus-augustkokus-mayanut-brosimum-alicastrum.jpg" aria-label="Expand image">
              <span class="img-expand-icon">‚§¢</span>
              <span class="img-expand-hint">üëÜ Click to Expand üëÜ</span>
            </button>
          </div>

          <div class="about-image-tile">
            <img src="maya-nut-mayanut-plant-tree-nursery.jpg" alt="Young Maya nut Brosimum alicastrum trees growing in a nursery">
            <button class="img-expand-btn" data-img-src="maya-nut-mayanut-plant-tree-nursery.jpg" aria-label="Expand image">
              <span class="img-expand-icon">‚§¢</span>
              <span class="img-expand-hint">üëÜ Click to Expand üëÜ</span>
            </button>
          </div>

          <div class="about-image-tile">
            <img src="maya-nut-mayanut-plant-tree-moraceae.jpg" alt="Maya nut tree Brosimum alicastrum from the Moraceae family">
            <button class="img-expand-btn" data-img-src="maya-nut-mayanut-plant-tree-moraceae.jpg" aria-label="Expand image">
              <span class="img-expand-icon">‚§¢</span>
              <span class="img-expand-hint">üëÜ Click to Expand üëÜ</span>
            </button>
          </div>
        </div>

        <div class="about-text-col">
          <div class="about-text-card about-card-1">
            <h2>About The MayaNut Company</h2>
            <p><strong>Welcome to mayanut.com, Home of The MayaNut Company.</strong> We were founded in 2025 by August Kokus, a South Floridian botanist and plant explorer, whose mission is to establish and develop the Maya nut plant, <em>Brosimum alicastrum</em>, as a new agricultural crop in the United States.</p>
          </div>

          <div class="about-text-card about-card-2">
            <h3>August Kokus</h3>
            <p>August Kokus created The MayaNut Company because he wanted to leave something behind for the world to see. He wanted an immortal grasp upon the world in the form of something that people would truly want ‚Äî something that can adapt to an ever-changing world.</p>
            <p>What if we could grow an underutilized species, like <em>Brosimum alicastrum</em>, and create an entirely new industry around it?</p>
            <p>In 2025, that is exactly what August Kokus had in mind. The foundation of The MayaNut Company was the way to bring his love for botany into something successful and brave. It would not be easy, but building an entire industry from the ground up ‚Äî literally ‚Äî was a challenge worth accepting.</p>
            <p>By 2030, August expects to have at least one functional farm, at least one acre in size, for the world to start enjoying.</p>
          </div>

          <div class="about-text-card about-card-3">
            <h3>Where We‚Äôre Growing</h3>
            <p>South Florida‚Äôs subtropical climate makes it especially well suited for this species, which is why a dedicated Maya nut plantation is being developed as the foundation for future Maya nut beverages, powders, and more.</p>
            <p>It is currently unknown how far north in Florida <em>Brosimum alicastrum</em> can grow and be successful, but any place in Florida at or below 27¬∞N (just south of Stuart, Florida) is confirmed to be able to survive winters with ease. Trees could probably survive up to about 28¬∞N as well, but long-term trials are still needed.</p>
          </div>

          <div class="about-text-card about-card-4">
            <h3>Our Mission</h3>
            <p>What we hope to achieve is a lasting effect down through the coming centuries ‚Äî a way to establish something beautiful and new. We want the species <em>Brosimum alicastrum</em> (known as Maya nut, breadnut, ojoche, ram√≥n, or guiamaro) not to be overlooked, but enjoyed and celebrated in American culture.</p>
          </div>

          <div class="about-text-card about-card-5">
            <h3>Our Fascination</h3>
            <p>From their wicked, entangled roots that grip ever tighter upon the Earth, there grows an agricultural miracle. We are fascinated by <em>Brosimum alicastrum</em> because this is a resource that no one has truly valued in America yet. People have used this tree for millennia in its native range, but by growing it in Florida, we give everyone a chance to try this delicious superfood. Developing something that people love is not easy ‚Äî but it is the perfect challenge for The MayaNut Company to accomplish.</p>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- BOTTOM LOGO SECTION -->
  <section class="section section--bottom-logo">
    <div class="section-inner">
      <a href="#top" id="bottom-logo-link">
        <img src="mayanut-the-maya-nut-company-logo.png" alt="The MayaNut Company logo">
      </a>
    </div>
  </section>

</main>

<footer>
  <div class="footer-inner">
    <hr class="footer-line" />
    <div class="footer-row">
      <div class="footer-links">
        <a id="privacy-link">Privacy Policy</a>
        <a id="dns-link">Do Not Sell My Info</a>
      </div>
      <div class="footer-instagram">
        <a href="https://instagram.com/themayanutcompany" target="_blank" rel="noopener" aria-label="The MayaNut Company on Instagram">
          <span>IG</span>
        </a>
      </div>
    </div>
    <div class="footer-copy">
      ¬© 2025 The MayaNut Company, Inc. All Rights Reserved.
    </div>
  </div>
</footer>

<!-- Welcome popup -->
<div class="welcome-backdrop" id="welcome-backdrop">
  <div class="welcome-modal">
    <!-- X in transparent gap -->
    <button class="welcome-close" id="welcome-close" aria-label="Close welcome message">&times;</button>

    <!-- Left rectangle: welcome text -->
    <div class="welcome-panel welcome-panel-left">
      <h2 class="welcome-title">Welcome to mayanut.com</h2>
      <p>We are currently developing one of Florida's first Maya nut (<em>Brosimum alicastrum</em>) plantations of tropical trees.</p>
      <p>We hope to be serving you our delicious Maya nut beverage by 2028. Thank you for your patience!</p>
    </div>

    <!-- Right rectangle: logo + orange button -->
    <div class="welcome-panel welcome-panel-right">
      <img src="mayanut-the-maya-nut-company-logo.png" alt="The MayaNut Company logo" class="welcome-logo">
      <button class="hero-cta-btn welcome-main-btn" id="welcome-main-btn">Go to Main Page</button>
    </div>
  </div>
</div>

<!-- Privacy / DNS Modal -->
<div class="modal-backdrop" id="modal-backdrop">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <h3 id="modal-title">Privacy Policy</h3>
    <div id="modal-body">
      <p>We collect only the minimum information needed to operate this website, such as standard server logs and anonymous usage data.</p>
      <p>Any information you voluntarily share with us (for example, via email) is used only to respond to your inquiry and improve our services.</p>
      <p>We do not sell your personal information. Some website translations from English may be wrong.</p>
    </div>
    <button class="modal-close" id="modal-close">Close</button>
  </div>
</div>

<!-- Lightbox for expanded About images -->
<div class="img-lightbox-backdrop" id="img-lightbox-backdrop">
  <div class="img-lightbox-content">
    <img src="" alt="" class="img-lightbox-img" id="img-lightbox-img">
    <button class="img-lightbox-close" id="img-lightbox-close" aria-label="Close image">&times;</button>
  </div>
</div>

<script>
// Language dropdown (custom, below bar)
(function(){
  const toggle = document.getElementById('lang-toggle');
  const dropdown = document.getElementById('lang-dropdown');
  const currentSpan = document.getElementById('lang-current');
  if (!toggle || !dropdown || !currentSpan) return;

  const items = dropdown.querySelectorAll('[data-file]');

  const path = window.location.pathname;
  const file = path.substring(path.lastIndexOf('/') + 1) || 'index.html';

  let matched = false;
  items.forEach(item => {
    const f = item.getAttribute('data-file');
    if (f === file) {
      currentSpan.textContent = item.textContent.trim();
      item.classList.add('active');
      matched = true;
    }
  });
  if (!matched) {
    currentSpan.textContent = 'English';
    items.forEach(item => {
      if (item.getAttribute('data-file') === 'index.html') {
        item.classList.add('active');
      }
    });
  }

  function openMenu() {
    dropdown.classList.add('open');
    toggle.setAttribute('aria-expanded', 'true');
  }
  function closeMenu() {
    dropdown.classList.remove('open');
    toggle.setAttribute('aria-expanded', 'false');
  }
  function toggleMenu() {
    if (dropdown.classList.contains('open')) {
      closeMenu();
    } else {
      openMenu();
    }
  }

  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    toggleMenu();
  });

  items.forEach(item => {
    item.addEventListener('click', () => {
      const target = item.getAttribute('data-file') || 'index.html';
      window.location.href = target;
    });
  });

  document.addEventListener('click', (e) => {
    if (!dropdown.contains(e.target) && !toggle.contains(e.target)) {
      closeMenu();
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeMenu();
    }
  });
})();

// Snowflakes on all .snow-canvas elements (hero + about)
(function () {
  const canvases = document.querySelectorAll('.snow-canvas');
  if (!canvases.length) return;

  canvases.forEach(canvas => {
    const parent = canvas.parentElement;
    if (!parent) return;
    const ctx = canvas.getContext("2d");

    let width = parent.clientWidth;
    let height = parent.clientHeight;

    function resize() {
      width = parent.clientWidth;
      height = parent.clientHeight;
      canvas.width = width;
      canvas.height = height;
    }
    resize();
    window.addEventListener("resize", resize);

    const FLAKE_COUNT = 60;
    const flakes = [];

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    function createFlake(initial = false) {
      return {
        x: random(0, width),
        y: initial ? random(0, height) : random(-height * 0.2, 0),
        size: random(2, 5),
        speedY: random(0.03, 0.12),
        speedX: random(-0.03, 0.03),
        sway: random(0.5, 1.5),
        swaySpeed: random(0.0005, 0.002),
        swayOffset: Math.random() * Math.PI * 2,
        rotation: Math.random() * Math.PI * 2,
        rotationSpeed: random(-0.003, 0.003)
      };
    }

    function initFlakes() {
      flakes.length = 0;
      for (let i = 0; i < FLAKE_COUNT; i++) {
        flakes.push(createFlake(true));
      }
    }

    function drawFlake(flake) {
      ctx.save();
      ctx.translate(flake.x, flake.y);
      ctx.rotate(flake.rotation);
      ctx.strokeStyle = "rgba(255, 255, 255, 0.9)";
      ctx.lineWidth = 1;

      const armLength = flake.size;

      ctx.beginPath();
      for (let i = 0; i < 6; i++) {
        const angle = (Math.PI * 2 / 6) * i;
        const x = Math.cos(angle) * armLength;
        const y = Math.sin(angle) * armLength;

        ctx.moveTo(0, 0);
        ctx.lineTo(x, y);

        const branchLen = armLength * 0.4;
        const sideAngle1 = angle + Math.PI / 6;
        const sideAngle2 = angle - Math.PI / 6;

        ctx.moveTo(x * 0.4, y * 0.4);
        ctx.lineTo(
          x * 0.4 + Math.cos(sideAngle1) * branchLen,
          y * 0.4 + Math.sin(sideAngle1) * branchLen
        );

        ctx.moveTo(x * 0.4, y * 0.4);
        ctx.lineTo(
          x * 0.4 + Math.cos(sideAngle2) * branchLen,
          y * 0.4 + Math.sin(sideAngle2) * branchLen
        );
      }
      ctx.stroke();
      ctx.restore();
    }

    function updateFlake(flake, deltaTime) {
      flake.x += flake.speedX * deltaTime +
        Math.sin(flake.swayOffset + performance.now() * flake.swaySpeed) * 0.05 * flake.sway;

      flake.y += flake.speedY * deltaTime;

      flake.rotation += flake.rotationSpeed * deltaTime;

      if (flake.y > height + flake.size * 2) {
        const replacement = createFlake(false);
        flake.x = replacement.x;
        flake.y = replacement.y;
        flake.speedY = replacement.speedY;
        flake.speedX = replacement.speedX;
        flake.sway = replacement.sway;
        flake.swaySpeed = replacement.swaySpeed;
        flake.swayOffset = replacement.swayOffset;
        flake.rotation = replacement.rotation;
        flake.rotationSpeed = replacement.rotationSpeed;
      }

      if (flake.x < -20) flake.x = width + 20;
      if (flake.x > width + 20) flake.x = -20;
    }

    let lastTime = performance.now();

    function animate(now) {
      const TIME_SCALE = 0.15;
      const deltaTime = (now - lastTime) * TIME_SCALE;
      lastTime = now;

      // If tab is hidden, clear and skip heavy updates
      if (document.visibilityState !== 'visible') {
        ctx.clearRect(0, 0, width, height);
        requestAnimationFrame(animate);
        return;
      }

      ctx.clearRect(0, 0, width, height);

      for (const flake of flakes) {
        updateFlake(flake, deltaTime);
        drawFlake(flake);
      }

      requestAnimationFrame(animate);
    }

    initFlakes();
    requestAnimationFrame(animate);
  });
})();

// Privacy / DNS Modal
(function(){
  const backdrop = document.getElementById('modal-backdrop');
  const titleEl = document.getElementById('modal-title');
  const bodyEl  = document.getElementById('modal-body');
  const closeBtn = document.getElementById('modal-close');
  const privacyLink = document.getElementById('privacy-link');
  const dnsLink = document.getElementById('dns-link');

  function openModal(kind){
    if(kind === 'privacy'){
      titleEl.textContent = 'Privacy Policy';
      bodyEl.innerHTML = `
        <p>We collect only the minimum information needed to operate this website, such as standard server logs and anonymous usage data.</p>
        <p>Any information you voluntarily share with us (for example, via email) is used only to respond to your inquiry and improve our services.</p>
        <p>We do not sell your personal information. Some website translations from English may be wrong.</p>
      `;
    }else{
      titleEl.textContent = 'Do Not Sell My Info';
      bodyEl.innerHTML = `
        <p>The MayaNut Company, Inc. does not sell your personal information.</p>
        <p>If you have any questions or would like to request or delete information we may have about you, please contact us and we will respond as soon as possible.</p>
      `;
    }
    backdrop.style.display = 'flex';
  }

  function closeModal(){
    backdrop.style.display = 'none';
  }

  if (privacyLink) privacyLink.addEventListener('click', () => openModal('privacy'));
  if (dnsLink) dnsLink.addEventListener('click', () => openModal('dns'));
  if (closeBtn) closeBtn.addEventListener('click', closeModal);
  if (backdrop) {
    backdrop.addEventListener('click', (e) => {
      if(e.target === backdrop) closeModal();
    });
  }
})();

// NAV overlay (hamburger menu) + active underline tracking
(function(){
  const toggle = document.getElementById('menu-toggle');
  const navBackdrop = document.getElementById('nav-backdrop');
  const navClose = document.getElementById('nav-close');
  const links = document.querySelectorAll('.nav-modal-links a[data-section]');

  if(!toggle || !navBackdrop) return;

  function openNav(){
    navBackdrop.classList.add('open');
    toggle.classList.add('open');
  }

  function closeNav(){
    navBackdrop.classList.remove('open');
    toggle.classList.remove('open');
  }

  toggle.addEventListener('click', (e) => {
    e.stopPropagation();
    if(navBackdrop.classList.contains('open')){
      closeNav();
    }else{
      openNav();
    }
  });

  if (navClose){
    navClose.addEventListener('click', (e) => {
      e.stopPropagation();
      closeNav();
    });
  }

  navBackdrop.addEventListener('click', (e) => {
    if(e.target === navBackdrop){
      closeNav();
    }
  });

  // Active underline follows visible section (for in-page anchors)
  const sectionMap = {};
  links.forEach(link => {
    const href = link.getAttribute('href');
    if (!href || !href.startsWith('#')) return;
    const id = href.replace('#','');
    const sec = document.getElementById(id);
    if (sec) sectionMap[id] = {section: sec, link};
  });

  const observer = new IntersectionObserver((entries) => {
    let mostVisible = null;
    let maxRatio = 0;

    entries.forEach(entry => {
      if (entry.intersectionRatio > maxRatio) {
        maxRatio = entry.intersectionRatio;
        mostVisible = entry.target;
      }
    });

    if (mostVisible) {
      const id = mostVisible.id;
      links.forEach(l => l.classList.remove('nav-link-active'));
      if (sectionMap[id]) {
        sectionMap[id].link.classList.add('nav-link-active');
      }
    }
  }, {
    threshold:[0.3, 0.5, 0.7]
  });

  Object.values(sectionMap).forEach(({section}) => observer.observe(section));
})();

// Welcome popup
(function(){
  const welcomeBackdrop = document.getElementById('welcome-backdrop');
  const welcomeClose = document.getElementById('welcome-close');
  const welcomeMainBtn = document.getElementById('welcome-main-btn');

  if(!welcomeBackdrop || !welcomeClose) return;

  function closeWelcome(){
    welcomeBackdrop.style.display = 'none';
  }

  // Show popup on load + auto-close after 60 seconds
  window.addEventListener('load', () => {
    welcomeBackdrop.style.display = 'flex';

    setTimeout(() => {
      if (welcomeBackdrop.style.display !== 'none') {
        closeWelcome();
      }
    }, 60000); // 60,000 ms = 60 seconds
  });

  welcomeClose.addEventListener('click', closeWelcome);

  // "Go to Main Page" button closes popup AND scrolls to top
  if (welcomeMainBtn){
    welcomeMainBtn.addEventListener('click', () => {
      closeWelcome();
      const topSection = document.getElementById('top');
      if (topSection){
        topSection.scrollIntoView({ behavior: 'smooth' });
      } else {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    });
  }

  // Click outside the rectangles closes popup
  welcomeBackdrop.addEventListener('click', (e) => {
    if(e.target === welcomeBackdrop) closeWelcome();
  });
})();

// Make the fixed logo, mobile header logo, and bottom logo scroll smoothly to the top section
(function(){
  const topSection = document.getElementById('top');
  function scrollHome(e){
    if (e) e.preventDefault();
    if (topSection){
      topSection.scrollIntoView({ behavior: 'smooth' });
    } else {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  }

  const logoLink = document.querySelector('.topbar-logo-link');
  if (logoLink){
    logoLink.addEventListener('click', scrollHome);
  }

  const topbarLogoInline = document.getElementById('topbar-logo-inline');
  if (topbarLogoInline){
    topbarLogoInline.addEventListener('click', scrollHome);
  }

  const bottomLogoLink = document.getElementById('bottom-logo-link');
  if (bottomLogoLink){
    bottomLogoLink.addEventListener('click', scrollHome);
  }
})();

// About image lightbox expand
(function(){
  const buttons = document.querySelectorAll('.img-expand-btn');
  const backdrop = document.getElementById('img-lightbox-backdrop');
  const imgEl = document.getElementById('img-lightbox-img');
  const closeBtn = document.getElementById('img-lightbox-close');
  if (!backdrop || !imgEl || !closeBtn) return;

  function openLightbox(src, alt){
    imgEl.src = src;
    imgEl.alt = alt || '';
    backdrop.classList.add('open');
  }

  function closeLightbox(){
    backdrop.classList.remove('open');
    imgEl.src = '';
    imgEl.alt = '';
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const src = btn.getAttribute('data-img-src');
      const img = btn.closest('.about-image-tile')?.querySelector('img');
      const alt = img ? img.alt : '';
      if (src){
        openLightbox(src, alt);
      }
    });
  });

  closeBtn.addEventListener('click', closeLightbox);
  backdrop.addEventListener('click', (e) => {
    if (e.target === backdrop){
      closeLightbox();
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && backdrop.classList.contains('open')){
      closeLightbox();
    }
  });
})();

// Store first image popup
(function(){
  const trigger = document.getElementById('store-main-image');
  const backdrop = document.getElementById('store-modal-backdrop');
  const closeBtn = document.getElementById('store-modal-close');
  if (!trigger || !backdrop || !closeBtn) return;

  function openModal(){
    backdrop.classList.add('open');
  }
  function closeModal(){
    backdrop.classList.remove('open');
  }

  trigger.addEventListener('click', openModal);
  closeBtn.addEventListener('click', closeModal);

  backdrop.addEventListener('click', (e) => {
    if (e.target === backdrop) closeModal();
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && backdrop.classList.contains('open')){
      closeModal();
    }
  });
})();
</script>

</body>
</html>
