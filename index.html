<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MayaNut</title>
<style>
  :root{
    --ink:#eef3ff; --ink-dim:#cbd6f2;
    --panel:rgba(12,16,34,.55); --line:rgba(255,255,255,.12);
    --accent:#8fdcff; --accent2:#c79bff;
    --inputBG:rgba(255,255,255,.08); --inputLine:rgba(255,255,255,.22);
    --gold1:#ffcc66; --gold2:#ffb347; --gold3:#ff9933; --gold4:#ffd27a;
  }
  html,body{height:100%}
  body{
    margin:0;color:var(--ink);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, sans-serif;
    display:flex;flex-direction:column;min-height:100%;
    background:
      radial-gradient(1000px 600px at 15% -10%, rgba(255,182,146,.25), transparent 60%),
      radial-gradient(1200px 700px at 85% 0%, rgba(159,218,255,.22), transparent 65%),
      radial-gradient(800px 480px at 50% 120%, rgba(255,210,130,.18), transparent 60%),
      linear-gradient(180deg, #081229 0%, #0f1b42 35%, #13255a 60%, #0c183c 100%);
    overflow-x:hidden;
  }

  /* Gentle tropical flares */
  .bg-wave, .bg-wave2 {
    position:fixed; inset:-15% -15% auto -15%; height:65vh; z-index:-1; pointer-events:none;
    filter: blur(22px) saturate(120%) brightness(110%);
    animation: drift 28s ease-in-out infinite;
  }
  .bg-wave{
    background:
      radial-gradient(70% 80% at 20% 30%, rgba(255,194,150,.28), transparent 65%),
      radial-gradient(55% 70% at 70% 25%, rgba(147,220,255,.20), transparent 60%),
      radial-gradient(40% 60% at 50% 60%, rgba(255,235,180,.18), transparent 60%);
  }
  .bg-wave2{
    height:58vh; top:0; mix-blend-mode:screen;
    background:
      radial-gradient(60% 70% at 35% -10%, rgba(255,168,232,.18), transparent 60%),
      radial-gradient(55% 65% at 80% 10%, rgba(115,228,244,.20), transparent 60%),
      radial-gradient(40% 55% at 10% 40%, rgba(255,246,210,.16), transparent 60%);
    animation: drift2 36s ease-in-out infinite;
  }
  @keyframes drift { 0%{transform:translateY(0) translateX(0) scale(1)} 50%{transform:translateY(14px) translateX(-12px) scale(1.03)} 100%{transform:translateY(0) translateX(0) scale(1)} }
  @keyframes drift2{ 0%{transform:translateY(0) translateX(0) scale(1.02)} 50%{transform:translateY(10px) translateX(10px) scale(1.05)} 100%{transform:translateY(0) translateX(0) scale(1.02)} }

  /* Top bar */
  .topbar{position:fixed;top:0;left:0;right:0;z-index:30;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:var(--panel);border-bottom:1px solid var(--line);backdrop-filter:blur(10px) saturate(140%)}
  .brand{
    font-weight:900; letter-spacing:.2px; display:flex; align-items:baseline; gap:6px; user-select:none;
    color:transparent;
    background: linear-gradient(180deg, var(--gold4), var(--gold1), var(--gold2), var(--gold3));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 2px #000; text-shadow: 0 2px 0 rgba(0,0,0,.6);
    font-size: 22px;
  }
  .brand small{
    color:transparent;
    background: linear-gradient(180deg, var(--gold4), var(--gold2));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 1.5px #000;
    font-size: 12px; vertical-align:top; margin-left:2px;
  }

  .nav{display:flex;gap:18px;align-items:center}
  .nav a{color:var(--ink);text-decoration:none;font-weight:700;font-size:14px;padding:8px 12px;border-radius:10px;border:1px solid transparent}
  .nav a:hover{border-color:var(--line);background:rgba(255,255,255,.06)}

  /* Hero + chat */
  .stage{flex:1;display:flex;align-items:center;justify-content:center;padding-top:88px;padding-bottom:80px}
  .panel{width:min(900px,92vw);text-align:center}
  .title{
    margin:6px 0 14px; font-weight:900; line-height:1.05; font-size:clamp(44px,6vw,68px);
    color:transparent;
    background: linear-gradient(180deg, var(--gold4), var(--gold1), var(--gold2), var(--gold3));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 3px #000; text-shadow: 0 3px 0 rgba(0,0,0,.6), 0 10px 28px rgba(0,0,0,.35);
  }
  .title small{
    color:transparent;
    background: linear-gradient(180deg, var(--gold4), var(--gold2));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 2px #000;
    font-size:.35em; vertical-align:super; margin-left:4px
  }

  .chatbar{display:flex;align-items:center;gap:10px;justify-content:center;margin:0 auto;width:min(760px,92vw)}
  .chatbar input{flex:1;height:42px;padding:10px 12px;font-size:15px;color:#e9eeff;background:var(--inputBG);border:1px solid var(--inputLine);border-radius:12px;outline:none}
  .chatbar input::placeholder{color:#cfe8ff}
  .chatbar input:focus{border-color:rgba(143,220,255,.75);box-shadow:0 0 0 3px rgba(143,220,255,.25)}

  .log{width:min(760px,92vw);margin:12px auto 0;background:rgba(8,12,30,.55);border:1px solid var(--line);border-radius:14px;padding:12px;max-height:42vh;overflow:auto}
  .msg{text-align:left;margin:6px 0;color:#eaf2ff}
  .msg strong{color:#cfe1ff}

  /* Sections */
  .section{width:min(980px,94vw);margin:24px auto 0;background:rgba(8,12,30,.50);border:1px solid var(--line);border-radius:16px;padding:18px;backdrop-filter:blur(4px)}
  .section h3{margin:0 0 8px;color:#fff}
  .section p{margin:8px 0 0;color:#cfe9ff}

  /* Buy cards */
  .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
  .card{
    background:rgba(255,255,255,.06); border:1px solid var(--line); border-radius:14px; padding:16px;
    text-align:center; color:#eaf2ff; text-decoration:none; transition:transform .2s ease, background .2s ease, border-color .2s ease;
  }
  .card:hover{ transform: translateY(-3px); background:rgba(255,255,255,.10); border-color:rgba(255,255,255,.18) }

  footer{width:100%;color:#c9d3ef;border-top:1px solid var(--line);background:rgba(10,14,34,.55);text-align:center;font-size:13px;padding:12px 8px}

  /* Canvas for dust (visual only; non-interactive) */
  #dustLayer{position:fixed; inset:0; z-index:-2; pointer-events:none}
</style>
</head>
<body>
  <!-- Tropical color flares -->
  <div class="bg-wave"></div>
  <div class="bg-wave2"></div>

  <!-- Top bar -->
  <header class="topbar" role="banner">
    <div class="brand">MayaNut<small>™</small></div>
    <nav class="nav" aria-label="Primary">
      <a href="#home" id="navHome">MayaNut</a>
      <a href="#buy"  id="navBuy">Buy</a>
      <a href="#about" id="navAbout">About</a>
      <a href="https://instagram.com/mayanut.co" target="_blank" rel="noopener">Instagram</a>
    </nav>
  </header>

  <!-- Hero + Chat -->
  <main id="home" class="stage">
    <div class="panel">
      <h1 id="heroTitle" class="title">MayaNut<small>™</small></h1>
      <div class="chatbar" role="search">
        <input id="chatInput" placeholder="Type What You Want" aria-label="Type what you want and press Enter" />
      </div>
      <div class="log" id="chatLog" aria-live="polite" aria-label="Conversation"></div>
    </div>
  </main>

  <!-- Buy -->
  <section id="buy" class="section" aria-labelledby="buyTitle">
    <h3 id="buyTitle">Buy</h3>
    <p>Search Through Our Wonderful Products — real items coming soon. For now, tap a category to return to home.</p>
    <div class="cards">
      <a class="card" href="#home">Flour (placeholder)</a>
      <a class="card" href="#home">Drinks (placeholder)</a>
      <a class="card" href="#home">Snacks (placeholder)</a>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section" aria-labelledby="aboutTitle">
    <h3 id="aboutTitle">About</h3>
    <p><strong>MayaNut</strong> is a South Florida company promoting the cultivation and appreciation of
      <em>Brosimum alicastrum</em>—the Maya Nut (Breadnut). We champion sustainable agroforestry and regenerative
      farming that restores soils, supports biodiversity, and produces resilient, nutritious foods.</p>
    <p><strong>Jack is the CEO of MayaNut</strong>, serving from his inauguration on April 23, 2008, age 4, as regent of his future empire.
      As of late 2025, age 22, MayaNut LLC owns hundreds of MayaNut saplings ready for cultivation.</p>
  </section>

  <!-- Footer -->
  <footer>© 2025 MayaNut LLC. All rights reserved.</footer>

  <!-- Non-interactive dust background -->
  <canvas id="dustLayer"></canvas>

<script>
/* ===== Simple brand chat (kept minimal, unchanged behavior) ===== */
const input = document.getElementById('chatInput');
const logBox = document.getElementById('chatLog');
function say(role, text){
  const el=document.createElement('div'); el.className='msg';
  el.innerHTML=`<strong>${role}:</strong> ${text}`;
  logBox.appendChild(el); logBox.scrollTop=logBox.scrollHeight;
}
function handleMessage(v){
  const t=(v||'').trim(); if(!t) return; say('You',t);
  const low=t.toLowerCase();
  if (low.includes('buy')||low.includes('product')||low.includes('shop')){ say('MayaNut','Head to the Buy section below—placeholders for now.'); document.getElementById('buy').scrollIntoView({behavior:'smooth'}); return; }
  if (low.includes('about')||low.includes('company')){ say('MayaNut','We’re a South Florida company promoting the Maya Nut—see About below.'); document.getElementById('about').scrollIntoView({behavior:'smooth'}); return; }
  say('MayaNut','Tell me what you want and I’ll point you in the right direction.');
}
input.addEventListener('keydown', e=>{ if(e.key==='Enter'){ handleMessage(input.value); input.value=''; }});
document.getElementById('navHome').addEventListener('click', e=>{ e.preventDefault(); document.getElementById('home').scrollIntoView({behavior:'smooth'}); input.focus(); });
document.getElementById('navBuy').addEventListener('click',  e=>{ e.preventDefault(); document.getElementById('buy').scrollIntoView({behavior:'smooth'}); });
document.getElementById('navAbout').addEventListener('click',e=>{ e.preventDefault(); document.getElementById('about').scrollIntoView({behavior:'smooth'}); });

/* ===== Dust background engine (visual only; non-clickable) =====
   - White dust spawns near bottom and rises.
   - In top half, dust can merge: when 5 neighbors gather, they form a light-blue drop that falls.
   - When a drop reaches the bottom, it splits into 5 white dust specks that resume rising.
*/
(function(){
  const canvas = document.getElementById('dustLayer');
  const ctx = canvas.getContext('2d');
  let W=innerWidth, H=innerHeight, DPR=1;
  function resize(){
    DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    W = innerWidth; H = innerHeight;
    canvas.style.width = W+'px'; canvas.style.height = H+'px';
    canvas.width = Math.round(W*DPR); canvas.height = Math.round(H*DPR);
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  resize(); addEventListener('resize', resize);

  const DUST_CAP = 420;      // total visual dust
  const MERGE_RADIUS = 18;   // neighbor radius for merging (top half)
  const BATCH_SIZE = 5;      // number to merge into a single drop
  const GRAVITY = 0.06;      // drop gravity
  const FLOOR = 8;           // floor padding

  const dust = [];  // {x,y,vx,vy,life}
  const drops = []; // {x,y,vx,vy,r}

  function spawnDust(n=1){
    for(let i=0;i<n;i++){
      if (dust.length >= DUST_CAP) return;
      // spawn near bottom band (white looks denser at bottom)
      const x = Math.random()*W;
      const y = H - Math.random()*H*0.25; // bottom 25%
      const vx = (Math.random()-.5)*0.12;
      const vy = - (0.25 + Math.random()*0.6); // rising
      dust.push({x,y,vx,vy,life:0});
    }
  }

  // Seed dust
  spawnDust(DUST_CAP*0.75|0);

  function buildGrid(points, cell=MERGE_RADIUS){
    const grid = new Map();
    for (let i=0;i<points.length;i++){
      const p = points[i];
      const gx = Math.floor(p.x/cell);
      const gy = Math.floor(p.y/cell);
      const key = gx+','+gy;
      if(!grid.has(key)) grid.set(key, []);
      grid.get(key).push(i);
    }
    return {grid,cell};
  }

  function neighbors(index, pts, gobj){
    const {grid,cell} = gobj;
    const p = pts[index];
    const gx = Math.floor(p.x/cell), gy = Math.floor(p.y/cell);
    const out = [];
    for(let ix=gx-1; ix<=gx+1; ix++){
      for(let iy=gy-1; iy<=gy+1; iy++){
        const key = ix+','+iy;
        const arr = grid.get(key);
        if(!arr) continue;
        for(const j of arr){
          if (j===index) continue;
          const q = pts[j];
          const dx=q.x-p.x, dy=q.y-p.y;
          if (dx*dx+dy*dy <= MERGE_RADIUS*MERGE_RADIUS) out.push(j);
        }
      }
    }
    return out;
  }

  function mergeDustIfNeeded(){
    // only consider top half
    const topIdx = [];
    for (let i=0;i<dust.length;i++){ if (dust[i].y < H*0.5) topIdx.push(i); }
    if (topIdx.length < BATCH_SIZE) return;

    const g = buildGrid(dust);
    const taken = new Set();

    for (const i of topIdx){
      if (taken.has(i)) continue;
      const nbs = neighbors(i, dust, g);
      // include self
      const cluster = [i];
      for(const j of nbs){ if (!taken.has(j) && dust[j].y < H*0.5) cluster.push(j); if (cluster.length >= BATCH_SIZE) break; }
      if (cluster.length >= BATCH_SIZE){
        // Compute centroid
        let cx=0, cy=0, vx=0, vy=0;
        for(const idx of cluster){ const p=dust[idx]; cx+=p.x; cy+=p.y; vx+=p.vx; vy+=p.vy; }
        cx/=cluster.length; cy/=cluster.length; vx/=cluster.length; vy/=cluster.length;

        // Remove those dust specks
        cluster.sort((a,b)=>b-a); // remove higher indices first
        for(const idx of cluster){ taken.add(idx); dust.splice(idx,1); }

        // Create a drop at centroid (light blue)
        drops.push({ x:cx, y:cy, vx:vx*0.2, vy:Math.max(0.6, Math.abs(vy)*0.3), r: 5.5 + Math.random()*2 });
        // Only form one cluster per frame for smoothness
        break;
      }
    }
  }

  function splitDropIfHitFloor(){
    for (let i=drops.length-1;i>=0;i--){
      const d = drops[i];
      if (d.y + d.r >= H - FLOOR){
        // split into 5 dust specks near bottom
        for (let k=0;k<BATCH_SIZE;k++){
          const ang = Math.random()*Math.PI;
          const sp  = 0.2 + Math.random()*0.45;
          const x = d.x + Math.cos(ang)*d.r*0.8;
          const y = H - 2 - Math.random()*4;
          dust.push({ x, y, vx:(Math.random()-.5)*0.12, vy: - (0.25 + Math.random()*0.6), life:0 });
        }
        drops.splice(i,1);
      }
    }
  }

  function step(){
    // Continuous gentle spawning near bottom to keep field lively
    if (dust.length < DUST_CAP) spawnDust(4);

    // Update dust (rise + soft drift)
    for (let i=dust.length-1;i>=0;i--){
      const p = dust[i];
      p.life++;
      p.x += p.vx + (Math.sin((p.life+p.x)*0.004)*0.05);
      p.y += p.vy;
      // recycle if off top
      if (p.y < -10 || p.x < -20 || p.x > W+20){
        // respawn near bottom
        p.x = Math.random()*W;
        p.y = H - Math.random()*H*0.2;
        p.vx = (Math.random()-.5)*0.12;
        p.vy = - (0.25 + Math.random()*0.6);
        p.life = 0;
      }
    }

    // Update drops (fall with a little gravity)
    for (const d of drops){
      d.vy += GRAVITY;
      d.x  += d.vx * 0.98;
      d.y  += d.vy;
      // soft horizontal drift
      d.vx += (Math.random()-.5)*0.02;
      // keep within bounds horizontally
      if (d.x < d.r) { d.x=d.r; d.vx=Math.abs(d.vx); }
      if (d.x > W-d.r) { d.x=W-d.r; d.vx=-Math.abs(d.vx); }
    }

    // Merging (top half only)
    mergeDustIfNeeded();
    // Splitting (bottom)
    splitDropIfHitFloor();
  }

  function draw(){
    ctx.clearRect(0,0,W,H);

    // Draw dust: denser/whiter at bottom, softer up top
    for (const p of dust){
      // alpha based on height: stronger near bottom
      const t = 1 - Math.min(1, Math.max(0, p.y / H));
      const a = 0.25 + (1-t)*0.35; // bottom brighter
      ctx.globalAlpha = a;
      ctx.fillStyle = '#ffffff';
      ctx.beginPath(); ctx.arc(p.x, p.y, 1.3, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1;

    // Draw drops (light blue)
    for (const d of drops){
      ctx.fillStyle = 'rgba(160,210,255,.9)';
      ctx.beginPath(); ctx.arc(d.x, d.y, d.r, 0, Math.PI*2); ctx.fill();
      // small highlight
      ctx.fillStyle = 'rgba(255,255,255,.7)';
      ctx.beginPath(); ctx.arc(d.x - d.r*0.35, d.y - d.r*0.35, d.r*0.25, 0, Math.PI*2); ctx.fill();
    }
  }

  function loop(){ step(); draw(); requestAnimationFrame(loop); }
  loop();
})();
</script>
</body>
</html>
