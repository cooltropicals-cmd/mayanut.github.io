<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MayaNut</title>
<style>
  :root{
    --ink:#eef3ff;
    --panel:rgba(12,16,34,.55);
    --line:rgba(255,255,255,.14);
    --accent:#8fdcff; --accent2:#c79bff;
    --gold:#f7d27a;         /* lighter, shinier gold */
    --gold-deep:#d9b65a;    /* darker edge for outline */
    --water:#bfefff;        /* clear light blue */
  }
  html,body{height:100%}
  body{
    margin:0; color:var(--ink);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, sans-serif;
    display:flex; flex-direction:column; min-height:100%;
    background:
      radial-gradient(1000px 600px at 15% -10%, rgba(115,94,225,.30), transparent 60%),
      radial-gradient(1100px 700px at 85% 0%, rgba(168,78,255,.24), transparent 65%),
      radial-gradient(900px 500px at 50% 120%, rgba(34,124,255,.20), transparent 60%),
      linear-gradient(180deg, #101a33 0%, #15204a 40%, #1b2b63 100%);
    overflow-x:hidden;
  }

  /* Top bar */
  .topbar{position:fixed;top:0;left:0;right:0;z-index:30;display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:var(--panel);border-bottom:1px solid var(--line);backdrop-filter:blur(10px)}
  .brand{
    font-weight:900; letter-spacing:.2px; display:flex; align-items:center; gap:6px; user-select:none;
    -webkit-text-stroke:1px #000; color:transparent;
    background:linear-gradient(180deg, #fff6bf 0%, var(--gold) 45%, var(--gold-deep) 100%);
    -webkit-background-clip:text; background-clip:text;
    text-shadow:0 2px 6px rgba(0,0,0,.3);
  }
  .brand small{font-size:11px; margin-left:2px; display:inline-block;
    color:transparent; -webkit-text-stroke:1px #000;
    background:linear-gradient(180deg,#fff6bf 0%, var(--gold) 45%, var(--gold-deep) 100%);
    -webkit-background-clip:text; background-clip:text;
  }

  .nav{display:flex;gap:18px;align-items:center}
  .nav a{color:var(--ink);text-decoration:none;font-weight:700;font-size:14px;padding:8px 12px;border-radius:10px}
  .nav a:hover{border:1px solid var(--line);background:rgba(255,255,255,.06)}

  .stage{flex:1;display:flex;align-items:center;justify-content:center;padding-top:96px;padding-bottom:80px}
  .panel{width:min(960px,92vw);text-align:center}

  /* Hero logo sits above the chat bar */
  .heroLogo{ width:min(560px,80vw); margin:6px auto 10px; display:block; }

  .chatbar{display:flex;align-items:center;gap:10px;justify-content:center;margin:0 auto;width:min(760px,92vw)}
  .chatbar input{flex:1;height:42px;padding:10px 12px;font-size:15px;color:#e9eeff;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.22);border-radius:12px;outline:none}
  .chatbar input::placeholder{color:#cfe3ff}
  .chatbar input:focus{border-color:rgba(143,220,255,.75);box-shadow:0 0 0 3px rgba(143,220,255,.25)}

  .log{width:min(760px,92vw);margin:12px auto 0;background:rgba(8,12,30,.6);border:1px solid var(--line);border-radius:14px;padding:12px;max-height:42vh;overflow:auto}
  .msg{text-align:left;margin:6px 0;color:#eaf2ff}
  .msg strong{color:#cfe1ff}

  .section{width:min(980px,94vw);margin:24px auto 0;background:rgba(8,12,30,.55);border:1px solid var(--line);border-radius:16px;padding:18px}
  .section h3{margin:0 0 8px;color:#fff}
  .section p{margin:8px 0 0;color:#cfe9ff}

  footer{width:100%;color:#c9d3ef;border-top:1px solid var(--line);background:rgba(10,14,34,.55);text-align:center;font-size:13px;padding:12px 8px;display:flex;align-items:center;justify-content:center;gap:8px}
  .ig{display:inline-block;width:16px;height:16px;border-radius:4px;background:
      radial-gradient(circle at 30% 105%, #fdf497 0%, #fdf497 5%, rgba(255,220,90,.9) 45%),
      radial-gradient(circle at 90% 10%, #fcedf0 0%, #fcedf0 20%, transparent 40%),
      linear-gradient(45deg,#405de6,#5851db,#833ab4,#c13584,#e1306c,#fd1d1d);
    box-shadow:0 0 0 1px rgba(255,255,255,.35) inset}
  .ig:after{content:"";display:block;width:8px;height:8px;border:2px solid #fff;border-radius:50%;position:relative;top:4px;left:4px}
  .ig:before{content:"";position:absolute;width:2px;height:2px;border-radius:50%;background:#fff;top:3px;left:10px}

  /* Canvas for background dust/drops/water */
  #fx{position:fixed; inset:0; z-index:0; pointer-events:none}
  /* Put content above effects */
  .content{position:relative; z-index:1}
</style>
</head>
<body>

<header class="topbar">
  <div class="brand">MayaNut<small>™</small></div>
  <nav class="nav">
    <a href="#home" id="navHome">MayaNut</a>
    <a href="#buy"  id="navBuy">Buy</a>
    <a href="#about" id="navAbout">About</a>
    <a href="https://instagram.com/mayanut.co" target="_blank" rel="noopener">Instagram</a>
  </nav>
</header>

<canvas id="fx"></canvas>

<div class="content">
  <main id="home" class="stage">
    <div class="panel">
      <!-- GOLD SVG LOGO (transparent bg) with Brosimum canopy on the "t" -->
      <svg class="heroLogo" viewBox="0 0 1200 280" aria-label="MayaNut logo">
        <defs>
          <linearGradient id="goldGrad" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0%"  stop-color="#fff6bf"/>
            <stop offset="50%" stop-color="#f7d27a"/>
            <stop offset="100%" stop-color="#d9b65a"/>
          </linearGradient>
          <filter id="logoShadow" x="-10%" y="-20%" width="120%" height="140%">
            <feDropShadow dx="0" dy="3" stdDeviation="4" flood-color="rgba(0,0,0,.45)"/>
          </filter>
        </defs>
        <!-- outline -->
        <text x="50" y="190" font-family="Poppins, Inter, system-ui, sans-serif"
              font-weight="900" font-size="180"
              fill="url(#goldGrad)" stroke="#000" stroke-width="8" filter="url(#logoShadow)">
          MayaNu
        </text>
        <!-- draw the 't' stem separate so we can add canopy -->
        <text x="950" y="190" font-family="Poppins, Inter, system-ui, sans-serif"
              font-weight="900" font-size="180"
              fill="url(#goldGrad)" stroke="#000" stroke-width="8" filter="url(#logoShadow)">
          t
        </text>
        <!-- canopy atop the 't' (simple rounded tree crown) -->
        <g transform="translate(1000,65)">
          <path d="M-40,20 C-90,20 -95,-30 -60,-50 C-20,-75 20,-75 60,-50 C95,-30 90,20 40,20 Z"
                fill="#33b56b" stroke="#0b3d22" stroke-width="6" filter="url(#logoShadow)"/>
          <!-- a couple of simple leaf shines -->
          <ellipse cx="-10" cy="-20" rx="20" ry="10" fill="rgba(255,255,255,.25)"/>
        </g>
        <!-- TM -->
        <text x="1115" y="95" font-family="Inter, system-ui, sans-serif" font-weight="800" font-size="44"
              fill="url(#goldGrad)" stroke="#000" stroke-width="5" filter="url(#logoShadow)">™</text>
      </svg>

      <div class="chatbar">
        <input id="chatInput" placeholder="Type What You Want" aria-label="Type what you want and press Enter" />
      </div>
      <div class="log" id="chatLog" aria-live="polite"></div>
    </div>
  </main>

  <section id="buy" class="section" aria-labelledby="buyTitle">
    <h3 id="buyTitle">Buy</h3>
    <p>Search Through Our Wonderful Products — real items coming soon.</p>
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px">
      <a href="#home" style="display:block;padding:18px;border-radius:12px;border:1px solid var(--line);background:rgba(255,255,255,.06);text-decoration:none;color:var(--ink);text-align:center">MayaNut Flour — placeholder</a>
      <a href="#home" style="display:block;padding:18px;border-radius:12px;border:1px solid var(--line);background:rgba(255,255,255,.06);text-decoration:none;color:var(--ink);text-align:center">MayaNut Drink — placeholder</a>
      <a href="#home" style="display:block;padding:18px;border-radius:12px;border:1px solid var(--line);background:rgba(255,255,255,.06);text-decoration:none;color:var(--ink);text-align:center">MayaNut Snacks — placeholder</a>
    </div>
  </section>

  <section id="about" class="section" aria-labelledby="aboutTitle">
    <h3 id="aboutTitle">About</h3>
    <p><strong>MayaNut</strong> is a South Florida company promoting the cultivation and appreciation of
      <em>Brosimum alicastrum</em>—the Maya Nut (Breadnut). We champion sustainable agroforestry and regenerative
      farming that restores soils, supports biodiversity, and produces resilient, nutritious foods.</p>
    <p><strong>August Kokus</strong> is the current CEO of MayaNut™.</p>
  </section>

  <footer>
    © 2025 MayaNut LLC. All rights reserved.
    <a class="ig" href="https://instagram.com/mayanut.co" title="@mayanut.co" target="_blank" rel="noopener" style="position:relative"></a>
  </footer>
</div>

<script>
/* ========= Simple assistant replies (unchanged behavior) ========= */
const input = document.getElementById('chatInput');
const logBox = document.getElementById('chatLog');
function say(role, text){
  const el=document.createElement('div'); el.className='msg';
  el.innerHTML=`<strong>${role}:</strong> ${text}`;
  logBox.appendChild(el); logBox.scrollTop=logBox.scrollHeight;
}
input.addEventListener('keydown', e=>{
  if(e.key==='Enter'){
    const t=input.value.trim(); if(!t) return; say('You',t); input.value='';
    const low=t.toLowerCase();
    if (low.includes('buy')||low.includes('product')){ say('MayaNut','Head to the Buy section below (placeholders for now).'); document.getElementById('buy').scrollIntoView({behavior:'smooth'}); return; }
    if (low.includes('about')||low.includes('company')){ say('MayaNut','See the About section for our mission and leadership.'); document.getElementById('about').scrollIntoView({behavior:'smooth'}); return; }
    say('MayaNut',"Tell me what you want and I’ll point you in the right direction.");
  }
});
['navHome','navBuy','navAbout'].forEach(id=>{
  const el=document.getElementById(id);
  if(el) el.addEventListener('click', e=>{ e.preventDefault(); document.getElementById(el.textContent.toLowerCase()).scrollIntoView({behavior:'smooth'}); });
});

/* ========= Background FX: rising mist → merging drops → pooled clear water with ripples ========= */
(function(){
  const canvas=document.getElementById('fx');
  const ctx=canvas.getContext('2d');

  function resize(){
    const dpr=Math.max(1,Math.min(2,window.devicePixelRatio||1));
    canvas.style.width=innerWidth+'px';
    canvas.style.height=innerHeight+'px';
    canvas.width=Math.round(innerWidth*dpr);
    canvas.height=Math.round(innerHeight*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  resize(); addEventListener('resize', resize);

  // ----- particles (mist & drops) -----
  const MIST_COUNT = 120;
  const mist=[];  // tiny white specks rising
  const drops=[]; // falling water drops (merge mid-air & at surface)

  function spawnMist(){
    return {x:Math.random()*innerWidth, y:innerHeight + Math.random()*60, r:1+Math.random()*1.2, vy:-(0.15+Math.random()*0.25), alpha:0.6+Math.random()*0.3};
  }
  for(let i=0;i<MIST_COUNT;i++) mist.push(spawnMist());

  function spawnDrop(x,y,area){ // area ~ r^2
    const r=Math.sqrt(Math.max(6, area))/2.2; // keep visually modest
    const vx=(Math.random()-.5)*0.6, vy=1.2+Math.random()*0.6;
    return {x,y,r,vx,vy};
  }

  // Mist fusion → drop creation near mid/top
  function maybeMistFuse(m){
    // when mist enters top half, chance to fuse with neighbors
    if (m.y < innerHeight*0.48){
      // quick neighbor pick
      const k = Math.floor(Math.random()*5)+3;
      for(let i=0;i<k;i++){
        const n = mist[(Math.random()*mist.length)|0];
        const dx=n.x - m.x, dy=n.y - m.y, d2=dx*dx+dy*dy;
        if (d2 < 14){ // close enough → make a drop
          // remove a few mists and create one drop
          const cx=(m.x+n.x)/2, cy=(m.y+n.y)/2;
          drops.push(spawnDrop(cx, cy, 70));
          m.y = innerHeight + 40; n.y = innerHeight + 40; // recycle
          break;
        }
      }
    }
  }

  // ----- pooled water state (slow rise) -----
  let waterVolume = 0;                 // increases as drops merge
  const WATER_PER_AREA = 0.0025;       // controls rise speed (smaller = slower)
  const baseWaveAmp = 6;               // gentle surface waves
  const ripples=[]; // {x,t} waves from clicks

  // Carve water around obstacles (logo, chat, log, sections, topbar)
  function obstacles(){
    const ids=['home','buy','about']; // we’ll carve around key blocks + topbar + hero SVG + chat + log
    const rects=[];
    const topbar=document.querySelector('.topbar'); if(topbar){ const r=topbar.getBoundingClientRect(); rects.push({x:r.left,y:r.top,w:r.width,h:r.height,rad:10}); }
    const hero=document.querySelector('.heroLogo'); if(hero){ const r=hero.getBoundingClientRect(); rects.push({x:r.left,y:r.top,w:r.width,h:r.height,rad:18}); }
    const chat=document.getElementById('chatInput'); if(chat){ const r=chat.getBoundingClientRect(); rects.push({x:r.left,y:r.top,w:r.width,h:r.height,rad:12}); }
    const log=document.getElementById('chatLog'); if(log){ const r=log.getBoundingClientRect(); rects.push({x:r.left,y:r.top,w:r.width,h:r.height,rad:14}); }
    ids.forEach(id=>{ const el=document.getElementById(id); if(!el) return;
      const r=el.getBoundingClientRect(); rects.push({x:r.left,y:r.top,w:r.width,h:r.height,rad:16});
    });
    return rects;
  }

  function roundRectPath(r){ // {x,y,w,h,rad}
    const rr = Math.min(r.rad, Math.min(r.w,r.h)/2);
    ctx.beginPath();
    ctx.moveTo(r.x+rr, r.y);
    ctx.lineTo(r.x+r.w-rr, r.y);
    ctx.quadraticCurveTo(r.x+r.w, r.y, r.x+r.w, r.y+rr);
    ctx.lineTo(r.x+r.w, r.y+r.h-rr);
    ctx.quadraticCurveTo(r.x+r.w, r.y+r.h, r.x+r.w-rr, r.y+r.h);
    ctx.lineTo(r.x+rr, r.y+r.h);
    ctx.quadraticCurveTo(r.x, r.y+r.h, r.x, r.y+r.h-rr);
    ctx.lineTo(r.x, r.y+rr);
    ctx.quadraticCurveTo(r.x, r.y, r.x+rr, r.y);
    ctx.closePath();
  }

  // Click → ripple if clicking the pooled water
  document.addEventListener('click', (e)=>{
    const x=e.clientX, y=e.clientY;
    const h = Math.min(innerHeight*0.9, waterVolume); // current flat level before waves
    const surfaceY = innerHeight - h;
    if (y >= surfaceY-6){ ripples.push({x, t:0}); }
  });

  function step(){
    // mist
    for(const m of mist){
      m.y += m.vy; m.x += (Math.random()-.5)*0.2;
      if (m.y < innerHeight*0.5 && Math.random()<0.03) maybeMistFuse(m);
      if (m.y < -20 || m.x<-40 || m.x>innerWidth+40){ // recycle top/side escapes
        Object.assign(m, spawnMist());
      }
    }

    // drops (fall + merge mid-air)
    for(let i=0;i<drops.length;i++){
      const d=drops[i];
      d.x += d.vx; d.y += d.vy; d.vy += 0.01; // tiny gravity
      // merge mid-air (area preserving)
      for(let j=i+1;j<drops.length;j++){
        const e=drops[j]; if(!e) continue;
        const dx=e.x-d.x, dy=e.y-d.y, R=d.r+e.r;
        if (dx*dx+dy*dy <= R*R){
          const area = Math.PI*(d.r*d.r + e.r*e.r);
          d.r = Math.sqrt(area/Math.PI);
          d.x = (d.x+e.x)/2; d.y = (d.y+e.y)/2;
          // small momentum average
          d.vx = (d.vx+e.vx)/2; d.vy = (d.vy+e.vy)/2;
          drops.splice(j,1); j--;
        }
      }
      // merge at surface
      const targetH = Math.min(innerHeight*0.9, waterVolume);
      const surfaceY = innerHeight - targetH + surfaceWave(d.x, performance.now()/1000);
      if (d.y + d.r >= surfaceY){
        // add volume based on area; slower rise factor keeps it calm
        waterVolume = Math.min(innerHeight*0.9, waterVolume + d.r*d.r*WATER_PER_AREA);
        // ripple on impact
        ripples.push({x:d.x, t:0});
        drops.splice(i,1); i--;
      }
    }

    // ripples progress
    for (let i=ripples.length-1;i>=0;i--){
      ripples[i].t += 0.016;
      if (ripples[i].t>1.4) ripples.splice(i,1);
    }
  }

  function surfaceWave(x, t){
    // base soft waves + ripple rings
    let w = Math.sin((x*0.01)+t*1.2)*baseWaveAmp*0.2 + Math.sin((x*0.004)-t*0.8)*baseWaveAmp*0.15;
    for (const r of ripples){
      const dist = Math.abs(x - r.x);
      const k = 0.02;                        // wave number
      const A = 9*(1 - r.t);                 // fade amplitude
      w += A * Math.sin(k*dist - r.t*8) * Math.exp(-0.012*dist);
    }
    return w;
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // white rising mist at the bottom
    for(const m of mist){
      ctx.globalAlpha = m.alpha;
      ctx.fillStyle='#ffffff';
      ctx.beginPath(); ctx.arc(m.x, m.y, m.r, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1;

    // falling drops
    for(const d of drops){
      const grad=ctx.createRadialGradient(d.x- d.r*0.4, d.y- d.r*0.5, d.r*0.2, d.x, d.y, d.r);
      grad.addColorStop(0,'rgba(255,255,255,.85)');
      grad.addColorStop(1,'rgba(180,220,255,.65)');
      ctx.fillStyle=grad;
      ctx.beginPath(); ctx.arc(d.x,d.y,d.r,0,Math.PI*2); ctx.fill();
    }

    // pooled water (clear, with waves)
    const h = Math.min(innerHeight*0.9, waterVolume);
    if (h>0.5){
      const baseY = innerHeight - h;

      // Build a surface path with waves
      ctx.beginPath();
      ctx.moveTo(0, innerHeight);
      ctx.lineTo(0, baseY + surfaceWave(0, performance.now()/1000));
      const step = Math.max(2, innerWidth/160);
      for (let x=step; x<=innerWidth; x+=step){
        ctx.lineTo(x, baseY + surfaceWave(x, performance.now()/1000));
      }
      ctx.lineTo(innerWidth, innerHeight);
      ctx.closePath();

      // Fill water
      const g=ctx.createLinearGradient(0, baseY-40, 0, innerHeight);
      g.addColorStop(0, 'rgba(195,235,255,.55)');
      g.addColorStop(1, 'rgba(150,210,255,.75)');
      ctx.fillStyle=g;
      ctx.fill();

      // Carve around obstacles so water flows around boxes/logo
      ctx.globalCompositeOperation='destination-out';
      const obs = obstacles();
      for(const r of obs){
        roundRectPath(r);
        ctx.fillStyle='rgba(0,0,0,0.9)';
        ctx.fill();
      }
      ctx.globalCompositeOperation='source-over';

      // subtle surface highlight
      ctx.strokeStyle='rgba(255,255,255,.35)';
      ctx.lineWidth=1.5;
      ctx.beginPath();
      for (let x=0; x<=innerWidth; x+=step){
        const y = baseY + surfaceWave(x, performance.now()/1000);
        if (x===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.stroke();
    }
  }

  function loop(){ step(); draw(); requestAnimationFrame(loop); }
  loop();
})();
</script>
</body>
</html>
