<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MayaNut AI</title>
  <style>
    :root{
      /* Shell pink / orange background you liked */
      --bg1:#ffd6a6; --bg2:#ffeab3; --bg3:#ffd1e3;
      --panel:rgba(255,255,255,.72); --line:rgba(0,0,0,.08);
      --card:#ffffff; --ink:#0f172a; --muted:#64748b; --logo:#384252;
      --shadow:0 18px 40px rgba(15,23,42,.18);
      --focus:#111827;
    }

    html,body{height:100%}
    body{
      margin:0;color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow:hidden;position:relative;
      background:
        radial-gradient(1200px 800px at 20% -10%, var(--bg3) 0%, transparent 60%),
        radial-gradient(1100px 700px at 80% -10%, var(--bg1) 0%, transparent 60%),
        linear-gradient(180deg, var(--bg2) 0%, #fff 85%);
    }
    body::after{
      content:"";position:fixed;inset:0;pointer-events:none;
      background: radial-gradient(closest-side, rgba(255,255,255,.18), transparent 70%) center -140px/1200px 600px no-repeat;
      mix-blend-mode: soft-light;
    }

    /* NAV */
    .navbar{
      position:fixed;top:0;left:0;width:100%;z-index:10;
      display:flex;justify-content:center;gap:28px;padding:12px 0;
      background:var(--panel);backdrop-filter: blur(8px) saturate(140%);
      border-bottom:1px solid var(--line);
    }
    .nav-item{
      color:#0b1222;text-decoration:none;font-weight:600;font-size:15px;
      padding:8px 14px;border-radius:10px;transition:background .18s;
    }
    .nav-item:hover{ background:rgba(0,0,0,.06) }
    .logo{ position:fixed; top:10px; left:14px; z-index:11; font-size:24px; font-weight:800; letter-spacing:.2px; color:var(--logo) }
    .logo sup{ font-size:10px; vertical-align:top; margin-left:2px; color:var(--logo) }

    /* LAYOUT */
    .stage{ width:100%; height:100%; padding-top:78px; display:flex; justify-content:center; align-items:center }
    .wrap{ width:min(980px,94%); display:flex; gap:24px; align-items:stretch } /* stretch makes flag match chat height */

    /* FLAG (matches chat height) */
    .flag{
      width:240px; min-width:240px; display:flex; align-items:center; justify-content:center;
      border-radius:12px; overflow:hidden; box-shadow:0 6px 16px rgba(0,0,0,.18);
      border:1px solid var(--line); background:#fff;
    }
    .flag img{
      width:100%; height:100%; object-fit:cover;
    }

    /* CHAT (light mode) */
    .chat{
      flex:1; display:flex; flex-direction:column; gap:12px;
      background:var(--card); border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow);
      padding:18px; min-width:300px; max-width:720px;
    }
    .log{
      background:#f8fafc; border:1px solid #e5e7eb; border-radius:12px; padding:12px;
      flex:1; overflow:auto; color:#0f172a; font-size:16px; line-height:1.6; min-height:300px;
    }
    .input{
      width:100%; padding:12px; border:1px solid #d1d5db; border-radius:12px; outline:none; font-size:15px; color:#0f172a; background:#fff;
    }
    .input:focus{ border-color:#9ca3af; box-shadow:0 0 0 3px rgba(17,24,39,.08) }

    /* PANELS (light styling) */
    .panel{
      display:none; margin:18px auto; width:min(980px,94%);
      background:#ffffff; border:1px solid #e5e7eb; border-radius:16px; padding:20px; box-shadow:var(--shadow); color:#0f172a
    }
    .panel h3{ margin:0 0 8px 0; font-size:20px }
    .panel p{ margin:8px 0 0 0 }
    .muted{ color:var(--muted) }

    /* Responsive */
    @media (max-width:760px){
      .flag{display:none}
      .log{max-height:320px}
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <div class="navbar" role="navigation" aria-label="Primary">
    <a href="#" class="nav-item" id="aiTab">MayaNut AI</a>
    <a href="#" class="nav-item" id="productsTab">Products</a>
    <a href="#" class="nav-item" id="aboutTab">About MayaNut</a>
  </div>
  <div class="logo">MayaNut<sup>™</sup></div>

  <!-- STAGE -->
  <div class="stage">
    <div class="wrap">
      <!-- American Flag -->
      <div class="flag" aria-hidden="true">
        <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="American Flag">
      </div>

      <!-- Chat -->
      <section class="chat" aria-label="Chat with MayaNut AI">
        <div class="log" id="chatLog" aria-live="polite"></div>
        <input id="chatInput" class="input" placeholder="Ask what you want to buy" aria-label="Type a message and press Enter"/>
      </section>
    </div>
  </div>

  <!-- PANELS -->
  <section class="panel" id="productPage" aria-label="Products">
    <h3>Search Through Our Wonderful Products</h3>
    <ul id="productList">
      <li>MayaNut Flour — placeholder</li>
      <li>MayaNut Drink — placeholder</li>
      <li>MayaNut Snacks — placeholder</li>
    </ul>
    <p class="muted">These are placeholders. Real product pages can be wired up anytime.</p>
  </section>

  <section class="panel" id="aboutPage" aria-label="About MayaNut">
    <h3>About MayaNut</h3>
    <p id="companyText">
      <strong>MayaNut</strong> is a company based in <strong>South Florida</strong>, promoting the cultivation and appreciation
      of <em>Brosimum alicastrum</em> — the Maya Nut (also called Breadnut). We champion sustainable agroforestry and
      regenerative farming practices that help restore soils, support biodiversity, and provide resilient, nutritious food.
    </p>
    <p id="treeText">
      The Maya Nut is naturally caffeine-free and versatile: its roasted seed makes a rich, chocolatey beverage,
      and its flour is naturally gluten-free — great for pancakes, cookies, breads, energy bars, and breakfast blends.
      With a smooth, nutty flavor, it pairs beautifully with cinnamon, vanilla, cacao, and tropical fruits. Beyond flavor,
      the tree’s shade and drought tolerance help farmers protect crops and landscapes while building long-term food security.
    </p>
    <p>
      As we grow our future product line, our aim is simple: create delicious foods that also help forests thrive and
      communities prosper.
    </p>
  </section>

  <script>
    /* ===== Offline chatbot with name + domain rule ===== */
    const BOT_NAME = "MayaNut AI";

    const mayaSynonyms = ["mayanut","maya nut","breadnut","brosimum","brosimum alicastrum","ramon","ojoche","guaimaro","capomo"];
    const BUY_TRIG = ["buy","product page","products","shop","purchase","order","take me to products","take me to the product page"];
    const COMPANY_TRIG = ["company","about us","about mayanut","who are you","when founded","where based","where are you based","where located"];
    const SOCIAL_TRIG = ["instagram","social","social media","ig"];
    const TREE_TRIG = ["tree","brosimum","brosimum alicastrum","what is mayanut","tell me about mayanut","what is breadnut","what is ramon"];
    const DOMAIN_TRIG = [
      "domain for sale","is this domain for sale","sell this domain","sell the domain",
      "buy this domain","buy the domain","is the domain for sale","are you selling the domain",
      "is mayanut.com for sale","for sale domain","purchase this domain","can i buy this domain"
    ];

    const chatLog = document.getElementById("chatLog");
    const chatInput = document.getElementById("chatInput");
    const productPage = document.getElementById("productPage");
    const aboutPage = document.getElementById("aboutPage");

    const norm = s => (s||"").toLowerCase();
    const includesAny = (t, arr) => arr.some(k => t.includes(k));

    function say(role, html){
      const name = role === "Bot" ? BOT_NAME : "You";
      chatLog.innerHTML += `<div><strong>${name}:</strong> ${html}</div>`;
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    function detectIntent(msg){
      const t = norm(msg);
      if (includesAny(t, DOMAIN_TRIG)) return "domain";
      if (includesAny(t, BUY_TRIG)) return "buy";
      if (includesAny(t, SOCIAL_TRIG)) return "social";
      if (includesAny(t, COMPANY_TRIG)) return "company";
      if (includesAny(t, TREE_TRIG) || includesAny(t, mayaSynonyms)) return "tree";
      const m = t.match(/^(tell me about|what is|info on|information on)\s+(.+)$/i);
      if(m){
        const subj = m[2];
        if (includesAny(subj, ["company","mayanut","mayanut company","maya nut"])) return "company";
        if (includesAny(subj, mayaSynonyms)) return "tree";
      }
      return "other";
    }

    function handle(message){
      say("You", message);
      const intent = detectIntent(message);
      switch(intent){
        case "domain":
          say("Bot","mayanut.com is Not for Sale");
          break;
        case "buy":
          say("Bot", productPage.innerHTML);
          break;
        case "social":
          say("Bot", 'Find us on Instagram: <a href="https://instagram.com/mayanut.co" target="_blank" rel="noopener">/mayanut.co</a>');
          break;
        case "company":
          say("Bot", document.getElementById("companyText").innerHTML + "<br><br>" + document.getElementById("treeText").innerHTML);
          break;
        case "tree":
          say("Bot", document.getElementById("treeText").innerHTML);
          break;
        default:
          say("Bot","Welcome! Ask about products, our company, or the Maya Nut tree.");
      }
    }

    chatInput.addEventListener("keydown", e=>{
      if(e.key==="Enter"){
        const v = chatInput.value.trim(); if(!v) return;
        chatInput.value=""; handle(v);
      }
    });

    /* Top navigation toggles */
    document.getElementById("aiTab").addEventListener("click", (e)=>{
      e.preventDefault();
      productPage.style.display="none";
      aboutPage.style.display="none";
      document.querySelector(".stage").scrollIntoView({behavior:"smooth"});
      chatInput.focus();
    });
    document.getElementById("productsTab").addEventListener("click", (e)=>{
      e.preventDefault();
      productPage.style.display="block";
      aboutPage.style.display="none";
      productPage.scrollIntoView({behavior:"smooth"});
    });
    document.getElementById("aboutTab").addEventListener("click", (e)=>{
      e.preventDefault();
      aboutPage.style.display="block";
      productPage.style.display="none";
      aboutPage.scrollIntoView({behavior:"smooth"});
    });

    /* Initial greeting once per session */
    if(!sessionStorage.getItem("greeted")){
      say("Bot","Welcome to MayaNut AI. Ask about products, our company, or the Maya Nut tree.");
      sessionStorage.setItem("greeted","1");
    }
  </script>
</body>
</html>
