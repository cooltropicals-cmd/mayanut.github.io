<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MayaNut</title>
<style>
  :root{
    --ink:#eef3ff; --ink-dim:#cbd6f2;
    --panel:rgba(12,16,34,.55); --line:rgba(255,255,255,.12);
    --inputBG:rgba(255,255,255,.08); --inputLine:rgba(255,255,255,.22);

    /* Lighter, sunnier golds */
    --gold1:#fff0b3; /* highlight */
    --gold2:#ffe08a;
    --gold3:#ffd45e;
    --gold4:#ffc241; /* warm base */

    --waterTop: rgba(150,210,255,0.22);
    --waterBottom: rgba(95,160,245,0.32);
  }

  html,body{height:100%}
  body{
    margin:0;color:var(--ink);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, sans-serif;
    display:flex;flex-direction:column;min-height:100%;
    /* Tropical background kept */
    background:
      radial-gradient(1000px 600px at 15% -10%, rgba(255,182,146,.25), transparent 60%),
      radial-gradient(1200px 700px at 85% 0%, rgba(159,218,255,.22), transparent 65%),
      radial-gradient(800px 480px at 50% 120%, rgba(255,210,130,.18), transparent 60%),
      linear-gradient(180deg, #081229 0%, #0f1b42 35%, #13255a 60%, #0c183c 100%);
    overflow-x:hidden;
  }

  /* Soft color flares */
  .bg-wave, .bg-wave2 {
    position:fixed; inset:-15% -15% auto -15%; height:65vh; z-index:-1; pointer-events:none;
    filter: blur(22px) saturate(120%) brightness(110%);
    animation: drift 28s ease-in-out infinite;
  }
  .bg-wave{
    background:
      radial-gradient(70% 80% at 20% 30%, rgba(255,194,150,.28), transparent 65%),
      radial-gradient(55% 70% at 70% 25%, rgba(147,220,255,.20), transparent 60%),
      radial-gradient(40% 60% at 50% 60%, rgba(255,235,180,.18), transparent 60%);
  }
  .bg-wave2{
    height:58vh; top:0; mix-blend-mode:screen;
    background:
      radial-gradient(60% 70% at 35% -10%, rgba(255,168,232,.18), transparent 60%),
      radial-gradient(55% 65% at 80% 10%, rgba(115,228,244,.20), transparent 60%),
      radial-gradient(40% 55% at 10% 40%, rgba(255,246,210,.16), transparent 60%);
    animation: drift2 36s ease-in-out infinite;
  }
  @keyframes drift { 0%{transform:translateY(0) translateX(0) scale(1)} 50%{transform:translateY(14px) translateX(-12px) scale(1.03)} 100%{transform:translateY(0) translateX(0) scale(1)} }
  @keyframes drift2{ 0%{transform:translateY(0) translateX(0) scale(1.02)} 50%{transform:translateY(10px) translateX(10px) scale(1.05)} 100%{transform:translateY(0) translateX(0) scale(1.02)} }

  /* Top bar with lighter gold brand + black outline (™ gold too) */
  .topbar{position:fixed;top:0;left:0;right:0;z-index:30;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:var(--panel);border-bottom:1px solid var(--line);backdrop-filter:blur(10px) saturate(140%)}
  .brand{
    font-weight:900; letter-spacing:.2px; display:flex; align-items:baseline; gap:6px; user-select:none;
    color:transparent;
    background: linear-gradient(180deg, var(--gold1), var(--gold2), var(--gold3), var(--gold4));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 2px #000; text-shadow: 0 2px 0 rgba(0,0,0,.55);
    font-size: 22px;
  }
  .brand small{
    color:transparent;
    background: linear-gradient(180deg, var(--gold1), var(--gold3));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 1.5px #000;
    font-size: 12px; vertical-align:top; margin-left:2px
  }

  .nav{display:flex;gap:18px;align-items:center}
  .nav a{color:var(--ink);text-decoration:none;font-weight:700;font-size:14px;padding:8px 12px;border-radius:10px;border:1px solid transparent}
  .nav a:hover{border-color:var(--line);background:rgba(255,255,255,.06)}

  /* Hero + chat */
  .stage{flex:1;display:flex;align-items:center;justify-content:center;padding-top:88px;padding-bottom:80px}
  .panel{width:min(900px,92vw);text-align:center}
  .title{
    margin:6px 0 14px; font-weight:900; line-height:1.05; font-size:clamp(44px,6vw,68px);
    color:transparent;
    background: linear-gradient(180deg, var(--gold1), var(--gold2), var(--gold3), var(--gold4));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 3px #000; text-shadow: 0 3px 0 rgba(0,0,0,.55), 0 10px 28px rgba(0,0,0,.35);
  }
  .title small{
    color:transparent;
    background: linear-gradient(180deg, var(--gold1), var(--gold3));
    -webkit-background-clip:text; background-clip:text;
    -webkit-text-stroke: 2px #000;
    font-size:.35em; vertical-align:super; margin-left:4px
  }

  .chatbar{display:flex;align-items:center;gap:10px;justify-content:center;margin:0 auto;width:min(760px,92vw)}
  .chatbar input{flex:1;height:42px;padding:10px 12px;font-size:15px;color:#e9eeff;background:var(--inputBG);border:1px solid var(--inputLine);border-radius:12px;outline:none}
  .chatbar input::placeholder{color:#cfe8ff}
  .chatbar input:focus{border-color:rgba(143,220,255,.75);box-shadow:0 0 0 3px rgba(143,220,255,.25)}
  .log{width:min(760px,92vw);margin:12px auto 0;background:rgba(8,12,30,.55);border:1px solid var(--line);border-radius:14px;padding:12px;max-height:42vh;overflow:auto}
  .msg{text-align:left;margin:6px 0;color:#eaf2ff}
  .msg strong{color:#cfe1ff}

  /* Sections */
  .section{width:min(980px,94vw);margin:24px auto 0;background:rgba(8,12,30,.50);border:1px solid var(--line);border-radius:16px;padding:18px;backdrop-filter:blur(4px)}
  .section h3{margin:0 0 8px;color:#fff}
  .section p{margin:8px 0 0;color:#cfe9ff}

  /* Buy cards */
  .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
  .card{
    background:rgba(255,255,255,.06); border:1px solid var(--line); border-radius:14px; padding:16px;
    text-align:center; color:#eaf2ff; text-decoration:none; transition:transform .2s ease, background .2s ease, border-color .2s ease;
  }
  .card:hover{ transform: translateY(-3px); background:rgba(255,255,255,.10); border-color:rgba(255,255,255,.18) }

  footer{width:100%;color:#c9d3ef;border-top:1px solid var(--line);background:rgba(10,14,34,.55);text-align:center;font-size:13px;padding:12px 8px}

  /* Canvases (visual only) */
  #dustLayer{position:fixed; inset:0; z-index:-2; pointer-events:none}
  #waterLayer{position:fixed; inset:0; z-index:-1; pointer-events:none}
</style>
</head>
<body>
  <div class="bg-wave"></div>
  <div class="bg-wave2"></div>

  <header class="topbar" role="banner">
    <div class="brand">MayaNut<small>™</small></div>
    <nav class="nav" aria-label="Primary">
      <a href="#home" id="navHome">MayaNut</a>
      <a href="#buy"  id="navBuy">Buy</a>
      <a href="#about" id="navAbout">About</a>
      <a href="https://instagram.com/mayanut.co" target="_blank" rel="noopener">Instagram</a>
    </nav>
  </header>

  <main id="home" class="stage">
    <div class="panel">
      <h1 id="heroTitle" class="title">MayaNut<small>™</small></h1>
      <div class="chatbar" role="search">
        <input id="chatInput" placeholder="Type What You Want" aria-label="Type what you want and press Enter" />
      </div>
      <div class="log" id="chatLog" aria-live="polite" aria-label="Conversation"></div>
    </div>
  </main>

  <section id="buy" class="section" aria-labelledby="buyTitle">
    <h3 id="buyTitle">Buy</h3>
    <p>Search Through Our Wonderful Products — real items coming soon. For now, tap a category to return to home.</p>
    <div class="cards">
      <a class="card" href="#home">Flour (placeholder)</a>
      <a class="card" href="#home">Drinks (placeholder)</a>
      <a class="card" href="#home">Snacks (placeholder)</a>
    </div>
  </section>

  <section id="about" class="section" aria-labelledby="aboutTitle">
    <h3 id="aboutTitle">About</h3>
    <p><strong>MayaNut</strong> is a South Florida company promoting the cultivation and appreciation of
      <em>Brosimum alicastrum</em>—the Maya Nut (Breadnut). We champion sustainable agroforestry and regenerative
      farming that restores soils, supports biodiversity, and produces resilient, nutritious foods.</p>
    <p><strong>Jack is the CEO of MayaNut</strong>, serving from his inauguration on April 23, 2008, age 4, as regent of his future empire.
      As of late 2025, age 22, MayaNut LLC owns hundreds of MayaNut saplings ready for cultivation.</p>
  </section>

  <footer>© 2025 MayaNut LLC. All rights reserved.</footer>

  <!-- Visual-only canvases -->
  <canvas id="dustLayer"></canvas>
  <canvas id="waterLayer"></canvas>

<script>
/* ===== Minimal brand chat (unchanged) ===== */
const input = document.getElementById('chatInput');
const logBox = document.getElementById('chatLog');
function say(role, text){
  const el=document.createElement('div'); el.className='msg';
  el.innerHTML=`<strong>${role}:</strong> ${text}`;
  logBox.appendChild(el); logBox.scrollTop=logBox.scrollHeight;
}
function handleMessage(v){
  const t=(v||'').trim(); if(!t) return; say('You',t);
  const low=t.toLowerCase();
  if (low.includes('buy')||low.includes('product')||low.includes('shop')){ say('MayaNut','Head to the Buy section below—placeholders for now.'); document.getElementById('buy').scrollIntoView({behavior:'smooth'}); return; }
  if (low.includes('about')||low.includes('company')){ say('MayaNut','We’re a South Florida company promoting the Maya Nut—see About below.'); document.getElementById('about').scrollIntoView({behavior:'smooth'}); return; }
  say('MayaNut','Tell me what you want and I’ll point you in the right direction.');
}
input.addEventListener('keydown', e=>{ if(e.key==='Enter'){ handleMessage(input.value); input.value=''; }});
document.getElementById('navHome').addEventListener('click', e=>{ e.preventDefault(); document.getElementById('home').scrollIntoView({behavior:'smooth'}); input.focus(); });
document.getElementById('navBuy').addEventListener('click',  e=>{ e.preventDefault(); document.getElementById('buy').scrollIntoView({behavior:'smooth'}); });
document.getElementById('navAbout').addEventListener('click',e=>{ e.preventDefault(); document.getElementById('about').scrollIntoView({behavior:'smooth'}); });

/* ===== Dust → Drop → Wavy Water Surface =====
   Changes:
   - Brighter gold brand (above).
   - Drops now collide with the animated water *surface* (not page bottom).
   - Much slower water rise.
   - Subtle wavy surface so it doesn’t look flat.
*/
(function(){
  const dustCV = document.getElementById('dustLayer');
  const waterCV = document.getElementById('waterLayer');
  const dctx = dustCV.getContext('2d');
  const wctx = waterCV.getContext('2d');

  let W=innerWidth, H=innerHeight, DPR=1, t0=performance.now();
  function resize(){
    DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    W = innerWidth; H = innerHeight;
    for(const cv of [dustCV, waterCV]){
      cv.style.width = W+'px'; cv.style.height = H+'px';
      cv.width = Math.round(W*DPR); cv.height = Math.round(H*DPR);
    }
    dctx.setTransform(DPR,0,0,DPR,0,0);
    wctx.setTransform(DPR,0,0,DPR,0,0);
  }
  resize(); addEventListener('resize', resize);

  // Dust stages 1..5 (5 == water drop size)
  const STAGE_RADII = [0, 1.2, 1.8, 2.6, 3.6, 6.0];
  const DUST_CAP = 520;
  const MERGE_CELL = 20;
  const RISE_MIN = 0.18, RISE_MAX = 0.55;
  const PERTURB = 0.05;

  // Water dynamics (slower rise)
  let waterLevel = 0.0;             // 0..1 of viewport height
  const WATER_INCR = 0.00025;       // <-- much slower
  const WATER_DECAY = 0.0;          // no decay now

  // Wavy surface
  const WAVE_A = 5.0;               // amplitude px
  const WAVE_K = 2*Math.PI/320;     // wavelength
  const WAVE_SPEED = 0.6;           // phase speed

  const puddles = [];               // surface ripples: {x,y,r,alpha,life}
  const dust = [];                  // rising specks
  const drops = [];                 // falling drops

  function spawnDust(n=1){
    for(let i=0;i<n;i++){
      if (dust.length >= DUST_CAP) return;
      const x = Math.random()*W;
      const y = H - Math.random()*H*0.25;
      const vx = (Math.random()-.5)*0.08;
      const vy = - (RISE_MIN + Math.random()*(RISE_MAX-RISE_MIN));
      dust.push({x,y,vx,vy,stage:1,squashT:0,squashAxis:'y'});
    }
  }
  spawnDust((DUST_CAP*0.8)|0);

  function buildGrid(){
    const grid = new Map();
    for (let i=0;i<dust.length;i++){
      const p = dust[i];
      const gx = Math.floor(p.x/MERGE_CELL);
      const gy = Math.floor(p.y/MERGE_CELL);
      const key = gx+','+gy;
      if(!grid.has(key)) grid.set(key, []);
      grid.get(key).push(i);
    }
    return grid;
  }

  function collideDust(){
    const grid = buildGrid();
    const visited = new Set();
    for (const idxs of grid.values()){
      for (let a=0; a<idxs.length; a++){
        const i = idxs[a]; if (visited.has(i)) continue;
        const p = dust[i];
        for (let b=a+1; b<idxs.length; b++){
          const j = idxs[b]; if (visited.has(j)) continue;
          const q = dust[j];
          const rA = STAGE_RADII[p.stage], rB = STAGE_RADII[q.stage];
          const dx = q.x - p.x, dy = q.y - p.y;
          const rr = (rA + rB + 1.2);
          if (dx*dx + dy*dy <= rr*rr){
            p.squashT = q.squashT = 10;
            const axis = Math.abs(dx) > Math.abs(dy) ? 'x' : 'y';
            p.squashAxis = q.squashAxis = axis;

            const eater = (p.stage>=q.stage) ? p : q;
            const meal  = (p.stage>=q.stage) ? q : p;

            if (eater.stage < 5) eater.stage++;

            meal.stage = 0; meal.x = -9999;
            visited.add(i); visited.add(j);

            eater.vx += (Math.random()-.5)*0.08;
            eater.vy -= Math.random()*0.06;

            if (eater.stage >= 5){
              const r = STAGE_RADII[5];
              drops.push({
                x: eater.x, y: eater.y,
                vx: (Math.random()-.5)*0.2, vy: Math.abs(eater.vy)*0.2 + 0.4,
                r, squashT: 0, squashAxis:'y'
              });
              eater.stage = 0; eater.x = -9999;
            }
          }
        }
      }
    }
    for (let i=dust.length-1;i>=0;i--){
      if (dust[i].stage === 0 || dust[i].x < -500) dust.splice(i,1);
    }
  }

  function updateDust(){
    if (dust.length < DUST_CAP) spawnDust(4);
    for (const p of dust){
      p.x += p.vx + Math.sin((p.x + p.y + performance.now()*0.001))*PERTURB;
      p.y += p.vy;
      p.y += -0.02*(p.stage-1);
      if (p.squashT>0) p.squashT--;
      if (p.y < -10 || p.x < -20 || p.x > W+20){
        p.x = Math.random()*W;
        p.y = H - Math.random()*H*0.2;
        p.vx = (Math.random()-.5)*0.08;
        p.vy = - (RISE_MIN + Math.random()*(RISE_MAX-RISE_MIN));
        p.stage = 1; p.squashT = 0;
      }
    }
    collideDust();
  }

  function surfaceYBase(){ return H - Math.floor(H * waterLevel); }
  function surfaceAt(x, time){
    const y0 = surfaceYBase();
    // animated sine wave
    return y0 + WAVE_A * Math.sin(WAVE_K * x + time * WAVE_SPEED);
  }

  function updateDropsAndWater(time){
    for (let i=drops.length-1;i>=0;i--){
      const d = drops[i];
      d.vy += 0.06;
      d.x  += d.vx*0.98;
      d.y  += d.vy;

      // side walls
      if (d.x < d.r) { d.x=d.r; d.vx=Math.abs(d.vx); d.squashT=10; d.squashAxis='x'; }
      if (d.x > W-d.r) { d.x=W-d.r; d.vx=-Math.abs(d.vx); d.squashT=10; d.squashAxis='x'; }

      // collide with the *surface* (wavy)
      const ySurf = surfaceAt(d.x, time);
      if (d.y + d.r >= ySurf){
        // place right on surface
        d.y = ySurf - d.r*0.5;

        // surface “splash” ripple (at surface, not bottom)
        puddles.push({x:d.x, y:ySurf, r:8, alpha:0.8, life:0});

        // slower water rise
        waterLevel = Math.min(1, waterLevel + WATER_INCR);

        // split back into dust near bottom (keeps cycle)
        for(let k=0;k<5;k++){
          const x = d.x + (Math.random()*6-3);
          const y = H - 2 - Math.random()*8;
          dust.push({x,y,vx:(Math.random()-.5)*0.08, vy: - (RISE_MIN + Math.random()*(RISE_MAX-RISE_MIN)), stage:1, squashT:0, squashAxis:'y'});
        }
        drops.splice(i,1);
        continue;
      }

      if (d.squashT>0) d.squashT--;
    }

    for (let i=puddles.length-1;i>=0;i--){
      const p = puddles[i];
      p.life++;
      p.r += 0.9;
      p.alpha *= 0.986;
      if (p.alpha < 0.02 || p.r > 140) puddles.splice(i,1);
    }

    waterLevel = Math.max(0, waterLevel - WATER_DECAY);
  }

  function drawDust(){
    dctx.clearRect(0,0,W,H);
    for (const p of dust){
      if (p.stage<1) continue;
      let sx=1, sy=1;
      if (p.squashT>0){
        const t = p.squashT/10;
        const amt = 0.45*Math.sin(t*Math.PI);
        if (p.squashAxis==='x'){ sx=1+amt; sy=1-amt; } else { sy=1+amt; sx=1-amt; }
      }
      dctx.save(); dctx.translate(p.x,p.y); dctx.scale(sx,sy);
      const hT = Math.max(0, Math.min(1, p.y / H));
      const alpha = 0.25 + (0.75*(1-hT));
      dctx.globalAlpha = alpha;
      dctx.fillStyle = '#ffffff';
      dctx.beginPath(); dctx.arc(0,0, STAGE_RADII[p.stage], 0, Math.PI*2); dctx.fill();
      dctx.restore();
    }

    for (const d of drops){
      let sx=1, sy=1;
      if (d.squashT>0){
        const t = d.squashT/10;
        const amt = 0.55*Math.sin(t*Math.PI);
        if (d.squashAxis==='x'){ sx=1+amt; sy=1-amt; } else { sy=1+amt; sx=1-amt; }
      }
      dctx.save(); dctx.translate(d.x,d.y); dctx.scale(sx,sy);
      dctx.globalAlpha = 0.92;
      dctx.fillStyle = 'rgba(160,210,255,.95)';
      dctx.beginPath(); dctx.arc(0,0,d.r,0,Math.PI*2); dctx.fill();
      dctx.globalAlpha = 0.75;
      dctx.fillStyle = '#ffffff';
      dctx.beginPath(); dctx.arc(-d.r*0.35, -d.r*0.35, d.r*0.25, 0, Math.PI*2); dctx.fill();
      dctx.restore();
    }
    dctx.globalAlpha = 1;
  }

  function drawWater(time){
    wctx.clearRect(0,0,W,H);
    if (waterLevel <= 0) return;

    const y0 = surfaceYBase();

    // Fill water area under a wavy surface path
    wctx.save();
    wctx.beginPath();
    // start at left surface
    wctx.moveTo(0, surfaceAt(0, time));
    const steps = 36; // enough to look smooth but cheap
    const dx = W/steps;
    for(let s=1; s<=steps; s++){
      const x = s*dx;
      wctx.lineTo(x, surfaceAt(x, time));
    }
    // close path down to bottom edges
    wctx.lineTo(W, H);
    wctx.lineTo(0, H);
    wctx.closePath();

    // gradient fill
    const grad = wctx.createLinearGradient(0, y0, 0, H);
    grad.addColorStop(0,  var(--waterTop));
    grad.addColorStop(1,  var(--waterBottom));
    wctx.fillStyle = grad;
    wctx.fill();

    // subtle surface sheen line
    wctx.lineWidth = 1.5;
    wctx.strokeStyle = 'rgba(255,255,255,0.45)';
    wctx.beginPath();
    wctx.moveTo(0, surfaceAt(0, time));
    for(let s=1; s<=steps; s++){
      const x = s*dx;
      wctx.lineTo(x, surfaceAt(x, time));
    }
    wctx.stroke();

    // surface ripples
    for (const p of puddles){
      wctx.globalAlpha = p.alpha;
      wctx.lineWidth = 1.2;
      wctx.strokeStyle = 'rgba(200,230,255,0.35)';
      wctx.beginPath(); wctx.arc(p.x, p.y, p.r, 0, Math.PI*2); wctx.stroke();
      wctx.globalAlpha = 1;
    }

    wctx.restore();
  }

  function loop(){
    const now = performance.now();
    const time = (now - t0)/1000;

    // physics
    updateDust();
    updateDropsAndWater(time);

    // draw
    drawDust();
    drawWater(time);

    requestAnimationFrame(loop);
  }
  loop();
})();
</script>
</body>
</html>
