<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snowy Blue Background</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: #0b4f9c; /* solid winter blue */
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    /* Optional: center message or content */
    .content {
      position: relative;
      z-index: 1;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
      padding: 1rem;
      pointer-events: none; /* clicks go through */
    }

    canvas#snow {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <canvas id="snow"></canvas>

  <!-- Optional content area (you can remove this if you want pure background) -->
  <div class="content">
    <!-- Your logo / text / whatever goes here -->
    <!-- <h1>Happy Holidays</h1> -->
  </div>

  <script>
    (function () {
      const canvas = document.getElementById("snow");
      const ctx = canvas.getContext("2d");

      let width = window.innerWidth;
      let height = window.innerHeight;

      canvas.width = width;
      canvas.height = height;

      const FLAKE_COUNT = 250; // increase/decrease for more/less snow
      const flakes = [];

      function random(min, max) {
        return Math.random() * (max - min) + min;
      }

      function createFlake() {
        return {
          x: random(0, width),
          y: random(-height, 0),
          size: random(3, 7),          // small snowflake arms
          speedY: random(0.5, 2.0),    // vertical speed
          speedX: random(-0.3, 0.3),   // horizontal drift
          sway: random(0.5, 1.5),      // sway amplitude
          swaySpeed: random(0.001, 0.004),
          swayOffset: Math.random() * Math.PI * 2,
          rotation: Math.random() * Math.PI * 2,
          rotationSpeed: random(-0.01, 0.01)
        };
      }

      function initFlakes() {
        flakes.length = 0;
        for (let i = 0; i < FLAKE_COUNT; i++) {
          flakes.push(createFlake());
        }
      }

      function drawFlake(flake) {
        ctx.save();
        ctx.translate(flake.x, flake.y);
        ctx.rotate(flake.rotation);
        ctx.strokeStyle = "rgba(255, 255, 255, 0.9)";
        ctx.lineWidth = 1;

        const armLength = flake.size;

        // Draw a simple 6-armed snowflake (not just a circle)
        ctx.beginPath();
        for (let i = 0; i < 6; i++) {
          const angle = (Math.PI * 2 / 6) * i;
          const x = Math.cos(angle) * armLength;
          const y = Math.sin(angle) * armLength;

          // main arm
          ctx.moveTo(0, 0);
          ctx.lineTo(x, y);

          // small side branches on each arm
          const branchLen = armLength * 0.4;
          const sideAngle1 = angle + Math.PI / 6;
          const sideAngle2 = angle - Math.PI / 6;

          ctx.moveTo(x * 0.4, y * 0.4);
          ctx.lineTo(
            x * 0.4 + Math.cos(sideAngle1) * branchLen,
            y * 0.4 + Math.sin(sideAngle1) * branchLen
          );

          ctx.moveTo(x * 0.4, y * 0.4);
          ctx.lineTo(
            x * 0.4 + Math.cos(sideAngle2) * branchLen,
            y * 0.4 + Math.sin(sideAngle2) * branchLen
          );
        }
        ctx.stroke();
        ctx.restore();
      }

      function updateFlake(flake, deltaTime) {
        // sway horizontally
        flake.x += flake.speedX * deltaTime +
          Math.sin(flake.swayOffset + performance.now() * flake.swaySpeed) * 0.1 * flake.sway;

        // fall vertically
        flake.y += flake.speedY * deltaTime;

        // rotate slowly
        flake.rotation += flake.rotationSpeed * deltaTime;

        // recycle when out of view
        if (flake.y > height + flake.size * 2) {
          flake.x = random(0, width);
          flake.y = random(-height * 0.2, 0);
          flake.speedY = random(0.5, 2.0);
        }

        // wrap horizontally to keep it continuous
        if (flake.x < -20) flake.x = width + 20;
        if (flake.x > width + 20) flake.x = -20;
      }

      let lastTime = performance.now();

      function animate(now) {
        const deltaTime = now - lastTime;
        lastTime = now;

        ctx.clearRect(0, 0, width, height);

        for (const flake of flakes) {
          updateFlake(flake, deltaTime);
          drawFlake(flake);
        }

        requestAnimationFrame(animate);
      }

      function onResize() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
      }

      window.addEventListener("resize", onResize);

      initFlakes();
      requestAnimationFrame(animate);
    })();
  </script>
</body>
</html>
